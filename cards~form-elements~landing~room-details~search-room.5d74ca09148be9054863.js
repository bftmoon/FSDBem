(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1frD":function(t,e,n){"use strict";e.a=class{static selectWordByCount(t,e,{withNumber:n=!1,withZeroNumber:i=!1}){const s=n?t+" ":"",a=t%10;return 0===t?i?s+e[0]:e[0]:1===a&&11!==t?s+e[1]:a>1&&a<5&&![12,13,14].includes(t)?s+e[2]:s+e[3]}}},"6D2W":function(t,e,n){},Rty3:function(t,e,n){"use strict";n("xL2p"),n("6D2W");var i=n("1frD");class s{constructor(t=s._formatDefaultHeader){this._formatHeader=t}create(t){document.addEventListener("click",this._handleDocumentClick.bind(this)),this._$header=t.find(".js-dropdown-menu__header"),this._$content=this._$header.next(),this._$inputs=this._$content.find(".js-dropdown-menu__count"),this._bindListeners(),this._$header.on("click",this._handleHeaderClick),this._$decrements=this._$content.find(".js-dropdown-menu__decrement"),this._$decrements.on("click",this._handleDecrementClick),this._$increments=this._$content.find(".js-dropdown-menu__increment"),this._$increments.on("click",this._handleIncrementClick);const e=this._$content.find(".js-dropdown-menu__buttons");e.find(".js-dropdown-menu__button_type_confirm").on("click",this._handleConfirmButtonClick),e.find(".js-dropdown-menu__button_type_cancel").on("click",this._handleCancelButtonClick),this._updateHeader()}_handleHeaderClick(){this._toggleMenu()}_handleConfirmButtonClick(){this._toggleMenu()}_bindListeners(){this._handleHeaderClick=this._handleHeaderClick.bind(this),this._handleConfirmButtonClick=this._handleConfirmButtonClick.bind(this),this._handleIncrementClick=this._handleIncrementClick.bind(this),this._handleDecrementClick=this._handleDecrementClick.bind(this),this._handleCancelButtonClick=this._handleCancelButtonClick.bind(this)}_updateHeader(){const t=[];this._$inputs.each((e,n)=>{t.push(Number(n.value))}),this._$header.children(":first-child").text(this._formatHeader(t))}_toggleMenu(){this._$header.toggleClass("dropdown-menu__header_opened"),this._$content.toggleClass("dropdown-menu__content_opened")}_handleDocumentClick(t){this._$content.parent()[0].contains(t.target)||(this._$header.removeClass("dropdown-menu__header_opened"),this._$content.removeClass("dropdown-menu__content_opened"))}static _formatDefaultHeader(t){return t.map(t=>i.a.selectWordByCount(t,["вещей","вещь","вещи","вещей"],{withNumber:!0}))}_handleDecrementClick(t){const e=t.target,n=e.nextSibling;n.value-=1,0==+n.value&&(e.disabled=!0),this._updateHeader()}_handleIncrementClick(t){const e=t.target.previousSibling,n=Number(e.value);0===n&&(e.previousSibling.disabled=!1),e.value=n+1,this._updateHeader()}_handleCancelButtonClick(){this._cleanData()}_cleanData(){this._$inputs.val(0),this._$inputs.prev().prop("disabled",!0),this._updateHeader()}}var a=s;e.a=a},ZOde:function(t,e,n){},gTPn:function(t,e,n){"use strict";var i=n("haX9");e.a=i.a},haX9:function(t,e,n){"use strict";(function(t){var i=n("1frD"),s=n("Rty3");class a extends s.a{constructor(){super(a._formatGuestsHeader)}handleAdultsDecrementClick(t){const e=t.target.nextSibling.value;0===Number(e)&&this._cleanAndBlockChildsIncrement()}create(t){super.create(t),0===Number(this._$inputs[0].value)&&this._cleanAndBlockChildsIncrement(),this._$increments[0].addEventListener("click",this.handleAdultsIncrementClick.bind(this)),this._$decrements[0].addEventListener("click",this.handleAdultsDecrementClick.bind(this))}handleAdultsIncrementClick(t){const e=t.target.previousSibling.value;1===Number(e)&&this._enableChildsIncrement()}_cleanAndBlockChildsIncrement(){this._cleanData(),this._disableChildsIncrements()}_disableChildsIncrements(){this._$increments[1].disabled=!0,this._$increments[2].disabled=!0}_enableChildsIncrement(){this._$increments[1].disabled=!1,this._$increments[2].disabled=!1}_cleanData(){super._cleanData(),this._disableChildsIncrements()}static _formatGuestsHeader(t){let e=i.a.selectWordByCount(t[0]+t[1],["Сколько гостей","гость","гостя","гостей"],{withNumber:!0});return t[2]>0&&(e+=", "+i.a.selectWordByCount(t[2],["","младенец","младенца","младенцев"],{withNumber:!0})),e}static initDefault({selector:e=".js-guests-dropdown",parent:n=document}){(new a).create(t(n.querySelector(e).firstChild))}static initAll({selector:e=".js-guests-dropdown",parent:n=document}){t(n).find(e).each((e,n)=>(new a).create(t(n.firstChild)))}}e.a=a}).call(this,n("EVdn"))},mcNl:function(t,e,n){},nErQ:function(t,e,n){"use strict";n("ZOde"),n("mcNl");var i=n("q4y1");e.a=i.a},q4y1:function(t,e,n){"use strict";(function(t){class i{create(t,e=!1){const i={navTitles:{days:"MM yyyy"},prevHtml:'<i class="material-icons datepicker-icons">arrow_back</i>',nextHtml:'<i class="material-icons datepicker-icons">arrow_forward</i>',clearButton:!0,range:!0,multipleDatesSeparator:" - ",inline:e,offset:5,minDate:new Date};this._$inputStart=t.find(".js-dropdown-date__input_first"),this._$inputEnd=t.find(".js-dropdown-date__input_last"),this._handleInputStartClick=this._handleInputStartClick.bind(this),this._$inputStart.parent().on("click",this._handleInputStartClick),0!==this._$inputEnd.length?(this._extractSecondDate=this._extractSecondDate.bind(this),i.onSelect=this._extractSecondDate,this._handleInputEndClick=this._handleInputEndClick.bind(this),this._$inputEnd.parent().on("click",this._handleInputEndClick)):i.dateFormat="d M",n.e(27).then(n.t.bind(null,"/4UK",7)).then(()=>{this._picker=this._$inputStart.datepicker(i).data("datepicker"),this._setButtons()})}_handleInputStartClick(){this._picker.show()}_handleInputEndClick(){this._picker.show()}_extractSecondDate(t){const e=t.split(" - ");this._$inputStart.val(e[0]),this._$inputEnd.val(2===e.length?e[1]:"")}_setButtons(){this._handleCancelClick=this._handleCancelClick.bind(this),this._handleApplyButtonClick=this._handleApplyButtonClick.bind(this);const e=this._picker.$datepicker.find(".datepicker--button");e.addClass("datepicker--button-cancel"),e.on("click",this._handleCancelClick);const n=t("<div>",{text:"Применить",class:"datepicker--button datepicker--button-apply"});n.on("click",this._handleApplyButtonClick),e.after(n)}_handleCancelClick(){this._$inputEnd.val("")}_handleApplyButtonClick(){this._picker.hide()}static initAll({selector:e=".js-dropdown-date",parent:n=document}){t(n).find(e).each((e,n)=>(new i).create(t(n)))}static initAllInline({selector:e=".js-dropdown-date-inline",parent:n=document}){t(n).find(e).each((e,n)=>(new i).create(t(n),!0))}static initDefault({selector:e=".js-dropdown-date",parent:n=document}){(new i).create(t(n.querySelector(e)))}}e.a=i}).call(this,n("EVdn"))},xL2p:function(t,e,n){"use strict";n("y6/3")},"y6/3":function(t,e,n){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvUnVzc2lhbkxhbmdVdGlsLmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2Ryb3Bkb3duLW1lbnUvRHJvcGRvd25NZW51LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2Ryb3Bkb3duLW1lbnUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvZ3Vlc3RzLWRyb3Bkb3duL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2d1ZXN0cy1kcm9wZG93bi9HdWVzdHNEcm9wZG93bk1lbnUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvZHJvcGRvd24tZGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9kcm9wZG93bi1kYXRlL0Ryb3Bkb3duRGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy90aXRsZS9pbmRleC5qcyJdLCJuYW1lcyI6WyJjb3VudCIsInZhcmlhbnRzIiwid2l0aE51bWJlciIsIndpdGhaZXJvTnVtYmVyIiwicHJlZml4IiwicmVzaWR1ZSIsImluY2x1ZGVzIiwiZm9ybWF0SGVhZGVyIiwiX2Zvcm1hdERlZmF1bHRIZWFkZXIiLCJ0aGlzIiwiX2Zvcm1hdEhlYWRlciIsIiRtZW51IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZURvY3VtZW50Q2xpY2siLCJiaW5kIiwiXyRoZWFkZXIiLCJmaW5kIiwiXyRjb250ZW50IiwibmV4dCIsIl8kaW5wdXRzIiwiX2JpbmRMaXN0ZW5lcnMiLCJvbiIsIl9oYW5kbGVIZWFkZXJDbGljayIsIl8kZGVjcmVtZW50cyIsIl9oYW5kbGVEZWNyZW1lbnRDbGljayIsIl8kaW5jcmVtZW50cyIsIl9oYW5kbGVJbmNyZW1lbnRDbGljayIsIiRhY3Rpb25CdXR0b25zIiwiX2hhbmRsZUNvbmZpcm1CdXR0b25DbGljayIsIl9oYW5kbGVDYW5jZWxCdXR0b25DbGljayIsIl91cGRhdGVIZWFkZXIiLCJfdG9nZ2xlTWVudSIsInZhbHVlcyIsImVhY2giLCJpbmRleCIsImlucHV0IiwicHVzaCIsIk51bWJlciIsInZhbHVlIiwiY2hpbGRyZW4iLCJ0ZXh0IiwidG9nZ2xlQ2xhc3MiLCJldmVudCIsInBhcmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwicmVtb3ZlQ2xhc3MiLCJjb3VudEFycmF5IiwibWFwIiwiUnVzc2lhbkxhbmdVdGlsIiwic2VsZWN0V29yZEJ5Q291bnQiLCJkZWNyZW1lbnRCdXR0b24iLCJuZXh0U2libGluZyIsImRpc2FibGVkIiwicHJldmlvdXNTaWJsaW5nIiwiX2NsZWFuRGF0YSIsInZhbCIsInByZXYiLCJwcm9wIiwiR3Vlc3RzRHJvcGRvd25NZW51Iiwic3VwZXIiLCJfZm9ybWF0R3Vlc3RzSGVhZGVyIiwiYWR1bHRzQ291bnQiLCJfY2xlYW5BbmRCbG9ja0NoaWxkc0luY3JlbWVudCIsImNyZWF0ZSIsImhhbmRsZUFkdWx0c0luY3JlbWVudENsaWNrIiwiaGFuZGxlQWR1bHRzRGVjcmVtZW50Q2xpY2siLCJfZW5hYmxlQ2hpbGRzSW5jcmVtZW50IiwiX2Rpc2FibGVDaGlsZHNJbmNyZW1lbnRzIiwiZ3Vlc3RzSW5mbyIsInNlbGVjdG9yIiwiJCIsInF1ZXJ5U2VsZWN0b3IiLCJmaXJzdENoaWxkIiwiX18iLCJlbGVtZW50IiwiJGVsZW1lbnQiLCJpc0lubGluZSIsInBhcmFtcyIsIm5hdlRpdGxlcyIsImRheXMiLCJwcmV2SHRtbCIsIm5leHRIdG1sIiwiY2xlYXJCdXR0b24iLCJyYW5nZSIsIm11bHRpcGxlRGF0ZXNTZXBhcmF0b3IiLCJpbmxpbmUiLCJvZmZzZXQiLCJtaW5EYXRlIiwiRGF0ZSIsIl8kaW5wdXRTdGFydCIsIl8kaW5wdXRFbmQiLCJfaGFuZGxlSW5wdXRTdGFydENsaWNrIiwibGVuZ3RoIiwiX2V4dHJhY3RTZWNvbmREYXRlIiwib25TZWxlY3QiLCJfaGFuZGxlSW5wdXRFbmRDbGljayIsImRhdGVGb3JtYXQiLCJ0aGVuIiwiX3BpY2tlciIsImRhdGVwaWNrZXIiLCJkYXRhIiwiX3NldEJ1dHRvbnMiLCJzaG93IiwiZm9ybWF0dGVkIiwiZGF0ZXMiLCJzcGxpdCIsIl9oYW5kbGVDYW5jZWxDbGljayIsIl9oYW5kbGVBcHBseUJ1dHRvbkNsaWNrIiwiJGNhbmNlbCIsIiRkYXRlcGlja2VyIiwiYWRkQ2xhc3MiLCIkYXBwbHkiLCJjbGFzcyIsImFmdGVyIiwiaGlkZSIsIl8iLCJEcm9wZG93bkRhdGUiXSwibWFwcGluZ3MiOiI2RkFZZSxJQVpmLE1BQ0UseUJBQXlCQSxFQUFPQyxHQUFVLFdBQUVDLEdBQWEsRUFBSyxlQUFFQyxHQUFpQixJQUMvRSxNQUFNQyxFQUFTRixFQUFnQkYsRUFBSCxJQUFjLEdBQ3BDSyxFQUFVTCxFQUFRLEdBQ3hCLE9BQWMsSUFBVkEsRUFBb0JHLEVBQWlCQyxFQUFTSCxFQUFTLEdBQUtBLEVBQVMsR0FDekQsSUFBWkksR0FBMkIsS0FBVkwsRUFBcUJJLEVBQVNILEVBQVMsR0FFeERJLEVBQVUsR0FBS0EsRUFBVSxJQUFNLENBQUMsR0FBSSxHQUFJLElBQUlDLFNBQVNOLEdBQWVJLEVBQVNILEVBQVMsR0FDbkZHLEVBQVNILEVBQVMsTSwrRkNON0IsTUFBTSxFQUNKLFlBQVlNLEVBQWUsRUFBYUMsc0JBQ3RDQyxLQUFLQyxjQUFnQkgsRUFHdkIsT0FBT0ksR0FFTEMsU0FBU0MsaUJBQWlCLFFBQVNKLEtBQUtLLHFCQUFxQkMsS0FBS04sT0FDbEVBLEtBQUtPLFNBQVdMLEVBQU1NLEtBQUssNkJBQzNCUixLQUFLUyxVQUFZVCxLQUFLTyxTQUFTRyxPQUMvQlYsS0FBS1csU0FBV1gsS0FBS1MsVUFBVUQsS0FBSyw0QkFFcENSLEtBQUtZLGlCQUVMWixLQUFLTyxTQUFTTSxHQUFHLFFBQVNiLEtBQUtjLG9CQUMvQmQsS0FBS2UsYUFBZWYsS0FBS1MsVUFBVUQsS0FBSyxnQ0FDeENSLEtBQUtlLGFBQWFGLEdBQUcsUUFBU2IsS0FBS2dCLHVCQUNuQ2hCLEtBQUtpQixh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RCxLQUFLMkYsUUFBUWdCLE9BR2YsZ0JBQWUsU0FBQzdDLEVBQVcsb0JBQW1CLE9BQUUzQixFQUFTaEMsV0FDdkQ0RCxFQUFFNUIsR0FBUTNCLEtBQUtzRCxHQUFVckMsS0FBSyxDQUFDbUYsRUFBR3pDLEtBQVksSUFBSTBDLEdBQWVyRCxPQUFPTyxFQUFFSSxLQUc1RSxzQkFBcUIsU0FBQ0wsRUFBVywyQkFBMEIsT0FBRTNCLEVBQVNoQyxXQUNwRTRELEVBQUU1QixHQUFRM0IsS0FBS3NELEdBQVVyQyxLQUFLLENBQUNtRixFQUFHekMsS0FBWSxJQUFJMEMsR0FBZXJELE9BQU9PLEVBQUVJLElBQVUsSUFHdEYsb0JBQW1CLFNBQUNMLEVBQVcsb0JBQW1CLE9BQUUzQixFQUFTaEMsWUFDM0QsSUFBSTBHLEdBQWVyRCxPQUFPTyxFQUFFNUIsRUFBTzZCLGNBQWNGLE1BSXRDLFEsd0RDckZmLFciLCJmaWxlIjoiY2FyZHN+Zm9ybS1lbGVtZW50c35sYW5kaW5nfnJvb20tZGV0YWlsc35zZWFyY2gtcm9vbS41ZDc0Y2EwOTE0OGJlOTA1NDg2My5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFJ1c3NpYW5MYW5nVXRpbCB7XG4gIHN0YXRpYyBzZWxlY3RXb3JkQnlDb3VudChjb3VudCwgdmFyaWFudHMsIHsgd2l0aE51bWJlciA9IGZhbHNlLCB3aXRoWmVyb051bWJlciA9IGZhbHNlIH0pIHtcbiAgICBjb25zdCBwcmVmaXggPSB3aXRoTnVtYmVyID8gYCR7Y291bnR9IGAgOiAnJztcbiAgICBjb25zdCByZXNpZHVlID0gY291bnQgJSAxMDtcbiAgICBpZiAoY291bnQgPT09IDApIHJldHVybiB3aXRoWmVyb051bWJlciA/IHByZWZpeCArIHZhcmlhbnRzWzBdIDogdmFyaWFudHNbMF07XG4gICAgaWYgKHJlc2lkdWUgPT09IDEgJiYgY291bnQgIT09IDExKSByZXR1cm4gcHJlZml4ICsgdmFyaWFudHNbMV07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZzZC9zcGxpdC1jb25kaXRpb25hbHNcbiAgICBpZiAocmVzaWR1ZSA+IDEgJiYgcmVzaWR1ZSA8IDUgJiYgIVsxMiwgMTMsIDE0XS5pbmNsdWRlcyhjb3VudCkpIHJldHVybiBwcmVmaXggKyB2YXJpYW50c1syXTtcbiAgICByZXR1cm4gcHJlZml4ICsgdmFyaWFudHNbM107XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUnVzc2lhbkxhbmdVdGlsO1xuIiwiaW1wb3J0IFJ1c3NpYW5MYW5nVXRpbCBmcm9tICdAdXRpbHMvUnVzc2lhbkxhbmdVdGlsJztcblxuY2xhc3MgRHJvcGRvd25NZW51IHtcbiAgY29uc3RydWN0b3IoZm9ybWF0SGVhZGVyID0gRHJvcGRvd25NZW51Ll9mb3JtYXREZWZhdWx0SGVhZGVyKSB7XG4gICAgdGhpcy5fZm9ybWF0SGVhZGVyID0gZm9ybWF0SGVhZGVyO1xuICB9XG5cbiAgY3JlYXRlKCRtZW51KSB7XG4gICAgLy8gdG9kbzogb3B0aW1pemF0aW9uP1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljay5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl8kaGVhZGVyID0gJG1lbnUuZmluZCgnLmpzLWRyb3Bkb3duLW1lbnVfX2hlYWRlcicpO1xuICAgIHRoaXMuXyRjb250ZW50ID0gdGhpcy5fJGhlYWRlci5uZXh0KCk7XG4gICAgdGhpcy5fJGlucHV0cyA9IHRoaXMuXyRjb250ZW50LmZpbmQoJy5qcy1kcm9wZG93bi1tZW51X19jb3VudCcpO1xuXG4gICAgdGhpcy5fYmluZExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fJGhlYWRlci5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVIZWFkZXJDbGljayk7XG4gICAgdGhpcy5fJGRlY3JlbWVudHMgPSB0aGlzLl8kY29udGVudC5maW5kKCcuanMtZHJvcGRvd24tbWVudV9fZGVjcmVtZW50Jyk7XG4gICAgdGhpcy5fJGRlY3JlbWVudHMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlRGVjcmVtZW50Q2xpY2spO1xuICAgIHRoaXMuXyRpbmNyZW1lbnRzID0gdGhpcy5fJGNvbnRlbnQuZmluZCgnLmpzLWRyb3Bkb3duLW1lbnVfX2luY3JlbWVudCcpXG4gICAgdGhpcy5fJGluY3JlbWVudHMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5jcmVtZW50Q2xpY2spO1xuXG4gICAgY29uc3QgJGFjdGlvbkJ1dHRvbnMgPSB0aGlzLl8kY29udGVudC5maW5kKCcuanMtZHJvcGRvd24tbWVudV9fYnV0dG9ucycpO1xuICAgICRhY3Rpb25CdXR0b25zLmZpbmQoJy5qcy1kcm9wZG93bi1tZW51X19idXR0b25fdHlwZV9jb25maXJtJykub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrKTtcbiAgICAkYWN0aW9uQnV0dG9ucy5maW5kKCcuanMtZHJvcGRvd24tbWVudV9fYnV0dG9uX3R5cGVfY2FuY2VsJykub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FuY2VsQnV0dG9uQ2xpY2spO1xuXG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyKCk7XG4gIH1cblxuICBfaGFuZGxlSGVhZGVyQ2xpY2soKSB7XG4gICAgdGhpcy5fdG9nZ2xlTWVudSgpO1xuICB9XG5cbiAgX2hhbmRsZUNvbmZpcm1CdXR0b25DbGljaygpIHtcbiAgICB0aGlzLl90b2dnbGVNZW51KCk7XG4gIH1cblxuICBfYmluZExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9oYW5kbGVIZWFkZXJDbGljayA9IHRoaXMuX2hhbmRsZUhlYWRlckNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrID0gdGhpcy5faGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlSW5jcmVtZW50Q2xpY2sgPSB0aGlzLl9oYW5kbGVJbmNyZW1lbnRDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZURlY3JlbWVudENsaWNrID0gdGhpcy5faGFuZGxlRGVjcmVtZW50Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVDYW5jZWxCdXR0b25DbGljayA9IHRoaXMuX2hhbmRsZUNhbmNlbEJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBfdXBkYXRlSGVhZGVyKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIHRoaXMuXyRpbnB1dHMuZWFjaCgoaW5kZXgsIGlucHV0KSA9PiB7XG4gICAgICB2YWx1ZXMucHVzaChOdW1iZXIoaW5wdXQudmFsdWUpKTtcbiAgICB9KTtcbiAgICB0aGlzLl8kaGVhZGVyLmNoaWxkcmVuKCc6Zmlyc3QtY2hpbGQnKS50ZXh0KHRoaXMuX2Zvcm1hdEhlYWRlcih2YWx1ZXMpKTtcbiAgfVxuXG4gIF90b2dnbGVNZW51KCkge1xuICAgIHRoaXMuXyRoZWFkZXIudG9nZ2xlQ2xhc3MoJ2Ryb3Bkb3duLW1lbnVfX2hlYWRlcl9vcGVuZWQnKTtcbiAgICB0aGlzLl8kY29udGVudC50b2dnbGVDbGFzcygnZHJvcGRvd24tbWVudV9fY29udGVudF9vcGVuZWQnKTtcbiAgfVxuXG4gIF9oYW5kbGVEb2N1bWVudENsaWNrKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLl8kY29udGVudC5wYXJlbnQoKVswXS5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICB0aGlzLl8kaGVhZGVyLnJlbW92ZUNsYXNzKCdkcm9wZG93bi1tZW51X19oZWFkZXJfb3BlbmVkJyk7XG4gICAgICB0aGlzLl8kY29udGVudC5yZW1vdmVDbGFzcygnZHJvcGRvd24tbWVudV9fY29udGVudF9vcGVuZWQnKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2Zvcm1hdERlZmF1bHRIZWFkZXIoY291bnRBcnJheSkge1xuICAgIHJldHVybiBjb3VudEFycmF5Lm1hcCgoY291bnQpID0+IFJ1c3NpYW5MYW5nVXRpbC5zZWxlY3RXb3JkQnlDb3VudChcbiAgICAgIGNvdW50LFxuICAgICAgWyfQstC10YnQtdC5JywgJ9Cy0LXRidGMJywgJ9Cy0LXRidC4JywgJ9Cy0LXRidC10LknXSxcbiAgICAgIHt3aXRoTnVtYmVyOiB0cnVlfSxcbiAgICApKTtcbiAgfVxuXG4gIF9oYW5kbGVEZWNyZW1lbnRDbGljayhldmVudCkge1xuICAgIGNvbnN0IGRlY3JlbWVudEJ1dHRvbiA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBpbnB1dCA9IGRlY3JlbWVudEJ1dHRvbi5uZXh0U2libGluZztcbiAgICBpbnB1dC52YWx1ZSAtPSAxO1xuICAgIGlmICgraW5wdXQudmFsdWUgPT09IDApIGRlY3JlbWVudEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyKCk7XG4gIH1cblxuICBfaGFuZGxlSW5jcmVtZW50Q2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldC5wcmV2aW91c1NpYmxpbmc7XG4gICAgY29uc3QgY291bnQgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xuICAgIGlmIChjb3VudCA9PT0gMCkgaW5wdXQucHJldmlvdXNTaWJsaW5nLmRpc2FibGVkID0gZmFsc2U7XG4gICAgaW5wdXQudmFsdWUgPSBjb3VudCArIDE7XG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyKCk7XG4gIH1cblxuICBfaGFuZGxlQ2FuY2VsQnV0dG9uQ2xpY2soKSB7XG4gICAgdGhpcy5fY2xlYW5EYXRhKCk7XG4gIH1cblxuICBfY2xlYW5EYXRhKCkge1xuICAgIHRoaXMuXyRpbnB1dHMudmFsKDApO1xuICAgIHRoaXMuXyRpbnB1dHMucHJldigpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd25NZW51O1xuIiwiaW1wb3J0ICdAYmxvY2tzL3RpdGxlJztcbmltcG9ydCAnLi9kcm9wZG93bi1tZW51LnNjc3MnO1xuaW1wb3J0IERyb3Bkb3duTWVudSBmcm9tICcuL0Ryb3Bkb3duTWVudSc7XG5cbmV4cG9ydCBkZWZhdWx0IERyb3Bkb3duTWVudTtcbiIsImltcG9ydCBHdWVzdHNEcm9wZG93bk1lbnUgZnJvbSAnLi9HdWVzdHNEcm9wZG93bk1lbnUnO1xuXG5leHBvcnQgZGVmYXVsdCBHdWVzdHNEcm9wZG93bk1lbnU7XG4iLCJpbXBvcnQgUnVzc2lhbkxhbmdVdGlsIGZyb20gJ0B1dGlscy9SdXNzaWFuTGFuZ1V0aWwnO1xuaW1wb3J0IERyb3Bkb3duTWVudSBmcm9tICcuLi9kcm9wZG93bi1tZW51JztcblxuY2xhc3MgR3Vlc3RzRHJvcGRvd25NZW51IGV4dGVuZHMgRHJvcGRvd25NZW51IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoR3Vlc3RzRHJvcGRvd25NZW51Ll9mb3JtYXRHdWVzdHNIZWFkZXIpO1xuICB9XG5cbiAgaGFuZGxlQWR1bHRzRGVjcmVtZW50Q2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBhZHVsdHNDb3VudCA9IGV2ZW50LnRhcmdldC5uZXh0U2libGluZy52YWx1ZTtcbiAgICBpZiAoTnVtYmVyKGFkdWx0c0NvdW50KSA9PT0gMCkge1xuICAgICAgdGhpcy5fY2xlYW5BbmRCbG9ja0NoaWxkc0luY3JlbWVudCgpO1xuICAgIH1cbiAgfTtcblxuICBjcmVhdGUoJG1lbnUpIHtcbiAgICBzdXBlci5jcmVhdGUoJG1lbnUpO1xuICAgIGlmIChOdW1iZXIodGhpcy5fJGlucHV0c1swXS52YWx1ZSkgPT09IDApIHtcbiAgICAgIHRoaXMuX2NsZWFuQW5kQmxvY2tDaGlsZHNJbmNyZW1lbnQoKTtcbiAgICB9XG4gICAgdGhpcy5fJGluY3JlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUFkdWx0c0luY3JlbWVudENsaWNrLmJpbmQodGhpcykpO1xuICAgIHRoaXMuXyRkZWNyZW1lbnRzWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVBZHVsdHNEZWNyZW1lbnRDbGljay5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGhhbmRsZUFkdWx0c0luY3JlbWVudENsaWNrKGV2ZW50KSB7XG4gICAgY29uc3QgYWR1bHRzQ291bnQgPSBldmVudC50YXJnZXQucHJldmlvdXNTaWJsaW5nLnZhbHVlO1xuICAgIGlmIChOdW1iZXIoYWR1bHRzQ291bnQpID09PSAxKSB7XG4gICAgICB0aGlzLl9lbmFibGVDaGlsZHNJbmNyZW1lbnQoKTtcbiAgICB9XG4gIH07XG5cbiAgX2NsZWFuQW5kQmxvY2tDaGlsZHNJbmNyZW1lbnQoKSB7XG4gICAgdGhpcy5fY2xlYW5EYXRhKCk7XG4gICAgdGhpcy5fZGlzYWJsZUNoaWxkc0luY3JlbWVudHMoKTtcbiAgfVxuXG4gIF9kaXNhYmxlQ2hpbGRzSW5jcmVtZW50cygpIHtcbiAgICB0aGlzLl8kaW5jcmVtZW50c1sxXS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fJGluY3JlbWVudHNbMl0uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZUNoaWxkc0luY3JlbWVudCgpIHtcbiAgICB0aGlzLl8kaW5jcmVtZW50c1sxXS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuXyRpbmNyZW1lbnRzWzJdLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuXG4gIF9jbGVhbkRhdGEoKSB7XG4gICAgc3VwZXIuX2NsZWFuRGF0YSgpO1xuICAgIHRoaXMuX2Rpc2FibGVDaGlsZHNJbmNyZW1lbnRzKCk7XG4gIH1cblxuICBzdGF0aWMgX2Zvcm1hdEd1ZXN0c0hlYWRlcihjb3VudEFycmF5KSB7XG4gICAgbGV0IGd1ZXN0c0luZm8gPSBSdXNzaWFuTGFuZ1V0aWwuc2VsZWN0V29yZEJ5Q291bnQoXG4gICAgICBjb3VudEFycmF5WzBdICsgY291bnRBcnJheVsxXSxcbiAgICAgIFsn0KHQutC+0LvRjNC60L4g0LPQvtGB0YLQtdC5JywgJ9Cz0L7RgdGC0YwnLCAn0LPQvtGB0YLRjycsICfQs9C+0YHRgtC10LknXSxcbiAgICAgIHt3aXRoTnVtYmVyOiB0cnVlfSxcbiAgICApO1xuICAgIGlmIChjb3VudEFycmF5WzJdID4gMCkge1xuICAgICAgZ3Vlc3RzSW5mbyArPSBgLCAke1J1c3NpYW5MYW5nVXRpbC5zZWxlY3RXb3JkQnlDb3VudChjb3VudEFycmF5WzJdLCBbJycsICfQvNC70LDQtNC10L3QtdGGJywgJ9C80LvQsNC00LXQvdGG0LAnLCAn0LzQu9Cw0LTQtdC90YbQtdCyJ10sIHt3aXRoTnVtYmVyOiB0cnVlfSl9YFxuICAgIH1cbiAgICByZXR1cm4gZ3Vlc3RzSW5mbztcbiAgfVxuXG4gIHN0YXRpYyBpbml0RGVmYXVsdCh7c2VsZWN0b3IgPSAnLmpzLWd1ZXN0cy1kcm9wZG93bicsIHBhcmVudCA9IGRvY3VtZW50fSkge1xuICAgIG5ldyBHdWVzdHNEcm9wZG93bk1lbnUoKS5jcmVhdGUoJChwYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuZmlyc3RDaGlsZCkpO1xuICB9XG5cbiAgc3RhdGljIGluaXRBbGwoe3NlbGVjdG9yID0gJy5qcy1ndWVzdHMtZHJvcGRvd24nLCBwYXJlbnQgPSBkb2N1bWVudH0pIHtcbiAgICAkKHBhcmVudCkuZmluZChzZWxlY3RvcikuZWFjaCgoX18sIGVsZW1lbnQpID0+IG5ldyBHdWVzdHNEcm9wZG93bk1lbnUoKS5jcmVhdGUoJChlbGVtZW50LmZpcnN0Q2hpbGQpKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3Vlc3RzRHJvcGRvd25NZW51O1xuIiwiaW1wb3J0ICcuL2RhdGVwaWNrZXItb3ZlcnJpZGVzLnNjc3MnO1xuaW1wb3J0ICcuL2Ryb3Bkb3duLWRhdGUuc2Nzcyc7XG5pbXBvcnQgRHJvcGRvd25EYXRlIGZyb20gJy4vRHJvcGRvd25EYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd25EYXRlO1xuIiwiY2xhc3MgRHJvcGRvd25EYXRlIHtcbiAgY3JlYXRlKCRlbGVtZW50LCBpc0lubGluZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgbmF2VGl0bGVzOiB7XG4gICAgICAgIGRheXM6ICdNTSB5eXl5JyxcbiAgICAgIH0sXG4gICAgICBwcmV2SHRtbDogJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgZGF0ZXBpY2tlci1pY29uc1wiPmFycm93X2JhY2s8L2k+JyxcbiAgICAgIG5leHRIdG1sOiAnPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBkYXRlcGlja2VyLWljb25zXCI+YXJyb3dfZm9yd2FyZDwvaT4nLFxuICAgICAgY2xlYXJCdXR0b246IHRydWUsXG4gICAgICByYW5nZTogdHJ1ZSxcbiAgICAgIG11bHRpcGxlRGF0ZXNTZXBhcmF0b3I6ICcgLSAnLFxuICAgICAgaW5saW5lOiBpc0lubGluZSxcbiAgICAgIG9mZnNldDogNSxcbiAgICAgIG1pbkRhdGU6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgICB0aGlzLl8kaW5wdXRTdGFydCA9ICRlbGVtZW50LmZpbmQoJy5qcy1kcm9wZG93bi1kYXRlX19pbnB1dF9maXJzdCcpO1xuXG4gICAgdGhpcy5fJGlucHV0RW5kID0gJGVsZW1lbnQuZmluZCgnLmpzLWRyb3Bkb3duLWRhdGVfX2lucHV0X2xhc3QnKTtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dFN0YXJ0Q2xpY2sgPSB0aGlzLl9oYW5kbGVJbnB1dFN0YXJ0Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl8kaW5wdXRTdGFydC5wYXJlbnQoKS5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dFN0YXJ0Q2xpY2spO1xuXG4gICAgaWYgKHRoaXMuXyRpbnB1dEVuZC5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMuX2V4dHJhY3RTZWNvbmREYXRlID0gdGhpcy5fZXh0cmFjdFNlY29uZERhdGUuYmluZCh0aGlzKTtcbiAgICAgIHBhcmFtcy5vblNlbGVjdCA9IHRoaXMuX2V4dHJhY3RTZWNvbmREYXRlO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRFbmRDbGljayA9IHRoaXMuX2hhbmRsZUlucHV0RW5kQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuXyRpbnB1dEVuZC5wYXJlbnQoKS5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dEVuZENsaWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zLmRhdGVGb3JtYXQgPSAnZCBNJztcbiAgICB9XG4gICAgaW1wb3J0KCdhaXItZGF0ZXBpY2tlci9kaXN0L2pzL2RhdGVwaWNrZXIubWluJykudGhlbigoKT0+e1xuICAgICAgdGhpcy5fcGlja2VyID0gdGhpcy5fJGlucHV0U3RhcnQuZGF0ZXBpY2tlcihwYXJhbXMpLmRhdGEoJ2RhdGVwaWNrZXInKTtcbiAgICAgIHRoaXMuX3NldEJ1dHRvbnMoKTtcbiAgICB9KVxuICB9XG5cbiAgX2hhbmRsZUlucHV0U3RhcnRDbGljaygpIHtcbiAgICB0aGlzLl9waWNrZXIuc2hvdygpO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0RW5kQ2xpY2soKSB7XG4gICAgdGhpcy5fcGlja2VyLnNob3coKTtcbiAgfVxuXG4gIF9leHRyYWN0U2Vjb25kRGF0ZShmb3JtYXR0ZWQpIHtcbiAgICBjb25zdCBkYXRlcyA9IGZvcm1hdHRlZC5zcGxpdCgnIC0gJyk7XG4gICAgdGhpcy5fJGlucHV0U3RhcnQudmFsKGRhdGVzWzBdKTtcbiAgICB0aGlzLl8kaW5wdXRFbmQudmFsKGRhdGVzLmxlbmd0aCA9PT0gMiA/IGRhdGVzWzFdIDogJycpO1xuICB9XG5cbiAgX3NldEJ1dHRvbnMoKSB7XG4gICAgdGhpcy5faGFuZGxlQ2FuY2VsQ2xpY2sgPSB0aGlzLl9oYW5kbGVDYW5jZWxDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUFwcGx5QnV0dG9uQ2xpY2sgPSB0aGlzLl9oYW5kbGVBcHBseUJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICBjb25zdCAkY2FuY2VsID0gdGhpcy5fcGlja2VyLiRkYXRlcGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLS1idXR0b24nKTtcbiAgICAkY2FuY2VsLmFkZENsYXNzKCdkYXRlcGlja2VyLS1idXR0b24tY2FuY2VsJyk7XG4gICAgJGNhbmNlbC5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVDYW5jZWxDbGljayk7XG4gICAgY29uc3QgJGFwcGx5ID0gJCgnPGRpdj4nLCB7XG4gICAgICB0ZXh0OiAn0J/RgNC40LzQtdC90LjRgtGMJyxcbiAgICAgIGNsYXNzOiAnZGF0ZXBpY2tlci0tYnV0dG9uIGRhdGVwaWNrZXItLWJ1dHRvbi1hcHBseScsXG4gICAgfSk7XG4gICAgJGFwcGx5Lm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUFwcGx5QnV0dG9uQ2xpY2spO1xuICAgICRjYW5jZWwuYWZ0ZXIoJGFwcGx5KTtcbiAgfVxuXG4gIF9oYW5kbGVDYW5jZWxDbGljaygpIHtcbiAgICB0aGlzLl8kaW5wdXRFbmQudmFsKCcnKTtcbiAgfVxuXG4gIF9oYW5kbGVBcHBseUJ1dHRvbkNsaWNrKCkge1xuICAgIHRoaXMuX3BpY2tlci5oaWRlKCk7XG4gIH1cblxuICBzdGF0aWMgaW5pdEFsbCh7c2VsZWN0b3IgPSAnLmpzLWRyb3Bkb3duLWRhdGUnLCBwYXJlbnQgPSBkb2N1bWVudH0pIHtcbiAgICAkKHBhcmVudCkuZmluZChzZWxlY3RvcikuZWFjaCgoXywgZWxlbWVudCkgPT4gbmV3IERyb3Bkb3duRGF0ZSgpLmNyZWF0ZSgkKGVsZW1lbnQpKSk7XG4gIH1cblxuICBzdGF0aWMgaW5pdEFsbElubGluZSh7c2VsZWN0b3IgPSAnLmpzLWRyb3Bkb3duLWRhdGUtaW5saW5lJywgcGFyZW50ID0gZG9jdW1lbnR9KSB7XG4gICAgJChwYXJlbnQpLmZpbmQoc2VsZWN0b3IpLmVhY2goKF8sIGVsZW1lbnQpID0+IG5ldyBEcm9wZG93bkRhdGUoKS5jcmVhdGUoJChlbGVtZW50KSwgdHJ1ZSkpO1xuICB9XG5cbiAgc3RhdGljIGluaXREZWZhdWx0KHtzZWxlY3RvciA9ICcuanMtZHJvcGRvd24tZGF0ZScsIHBhcmVudCA9IGRvY3VtZW50fSkge1xuICAgIG5ldyBEcm9wZG93bkRhdGUoKS5jcmVhdGUoJChwYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcm9wZG93bkRhdGU7XG4iLCJpbXBvcnQgJy4vdGl0bGUuc2Nzcyc7XG4iXSwic291cmNlUm9vdCI6IiJ9