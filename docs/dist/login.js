!function(t){function e(e){for(var i,o,c=e[0],s=e[1],l=e[2],f=0,d=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);for(u&&u(e);d.length;)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={9:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;r.push([106,0,2]),n()}({106:function(t,e,n){"use strict";n.r(e);n(107),n(37);(new(n(92).a)).create()},107:function(t,e,n){},24:function(t,e,n){"use strict";n(30)},27:function(t,e,n){"use strict";(function(t){n(42);class i{static init(t){t.mask("99.99.9999",{completed(){const t=Date.parse(this.val().split(".").reverse().join("-"));Number.isNaN(t)?this[0].setCustomValidity("Невозможная дата"):t>Date.now()?this[0].setCustomValidity("Слишком молоды"):t<Date.now()-47304e8?this[0].setCustomValidity("Невозможный жизненный срок"):this[0].setCustomValidity("")}})}static initAll({selector:e=".js-input_masked",parent:n=document}){t(n).find(e).each((e,n)=>i.init(t(n)))}static initDefault({selector:e=".js-input_masked",parent:n=document}){i.init(t(n.querySelector(e)))}}e.a=i}).call(this,n(0))},30:function(t,e,n){},37:function(t,e,n){"use strict";n(10),n(25);n(9).a.initDefault({})},41:function(t,e,n){},42:function(t,e,n){var i,a,r;a=[n(0)],void 0===(r="function"==typeof(i=function(t){var e,n=navigator.userAgent,i=/iphone/i.test(n),a=/chrome/i.test(n),r=/android/i.test(n);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var n;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof t?(e="number"==typeof e?e:t,this.each((function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())}))):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var c,s,l,u,f,d,h;if(!n&&this.length>0){var g=t(this[0]).data(t.mask.dataName);return g?g():void 0}return o=t.extend({autoclear:t.mask.autoclear,placeholder:t.mask.placeholder,completed:null},o),c=t.mask.definitions,s=[],l=d=n.length,u=null,n=String(n),t.each(n.split(""),(function(t,e){"?"==e?(d--,l=t):c[e]?(s.push(new RegExp(c[e])),null===u&&(u=s.length-1),t<l&&(f=s.length-1)):s.push(null)})),this.trigger("unmask").each((function(){var g=t(this),p=t.map(n.split(""),(function(t,e){if("?"!=t)return c[t]?k(e):t})),m=p.join(""),v=g.val();function b(){if(o.completed){for(var t=u;t<=f;t++)if(s[t]&&p[t]===k(t))return;o.completed.call(g)}}function k(t){return t<o.placeholder.length?o.placeholder.charAt(t):o.placeholder.charAt(0)}function y(t){for(;++t<d&&!s[t];);return t}function C(t,e){var n,i;if(!(t<0)){for(n=t,i=y(e);n<d;n++)if(s[n]){if(!(i<d&&s[n].test(p[i])))break;p[n]=p[i],p[i]=k(i),i=y(i)}w(),g.caret(Math.max(u,t))}}function j(t){S(),g.val()!=v&&g.change()}function _(t,e){var n;for(n=t;n<e&&n<d;n++)s[n]&&(p[n]=k(n))}function w(){g.val(p.join(""))}function S(t){var e,n,i,a=g.val(),r=-1;for(e=0,i=0;e<d;e++)if(s[e]){for(p[e]=k(e);i++<a.length;)if(n=a.charAt(i-1),s[e].test(n)){p[e]=n,r=e;break}if(i>a.length){_(e+1,d);break}}else p[e]===a.charAt(i)&&i++,e<l&&(r=e);return t?w():r+1<l?o.autoclear||p.join("")===m?(g.val()&&g.val(""),_(0,d)):w():(w(),g.val(g.val().substring(0,r+1))),l?e:u}g.data(t.mask.dataName,(function(){return t.map(p,(function(t,e){return s[e]&&t!=k(e)?t:null})).join("")})),g.one("unmask",(function(){g.off(".mask").removeData(t.mask.dataName)})).on("focus.mask",(function(){var t;g.prop("readonly")||(clearTimeout(e),v=g.val(),t=S(),e=setTimeout((function(){g.get(0)===document.activeElement&&(w(),t==n.replace("?","").length?g.caret(0,t):g.caret(t))}),10))})).on("blur.mask",j).on("keydown.mask",(function(t){if(!g.prop("readonly")){var e,n,a,r=t.which||t.keyCode;h=g.val(),8===r||46===r||i&&127===r?(n=(e=g.caret()).begin,(a=e.end)-n==0&&(n=46!==r?function(t){for(;--t>=0&&!s[t];);return t}(n):a=y(n-1),a=46===r?y(a):a),_(n,a),C(n,a-1),t.preventDefault()):13===r?j.call(this,t):27===r&&(g.val(v),g.caret(0,S()),t.preventDefault())}})).on("keypress.mask",(function(e){if(!g.prop("readonly")){var n,i,a,o=e.which||e.keyCode,c=g.caret();e.ctrlKey||e.altKey||e.metaKey||o<32||!o||13===o||(c.end-c.begin!=0&&(_(c.begin,c.end),C(c.begin,c.end-1)),(n=y(c.begin-1))<d&&(i=String.fromCharCode(o),s[n].test(i))&&(function(t){var e,n,i,a;for(e=t,n=k(t);e<d;e++)if(s[e]){if(i=y(e),a=p[e],p[e]=n,!(i<d&&s[i].test(a)))break;n=a}}(n),p[n]=i,w(),a=y(n),r?setTimeout((function(){t.proxy(t.fn.caret,g,a)()}),0):g.caret(a),c.begin<=f&&b()),e.preventDefault())}})).on("input.mask paste.mask",(function(){g.prop("readonly")||setTimeout((function(){var t=S(!0);g.caret(t),b()}),0)})),a&&r&&g.off("input.mask").on("input.mask",(function(t){var e=g.val(),n=g.caret();if(h&&h.length&&h.length>e.length){for(S(!0);n.begin>0&&!s[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<u&&!s[n.begin];)n.begin++;g.caret(n.begin,n.begin)}else{S(!0);var i=e.charAt(n.begin);n.begin<d&&(s[n.begin]||n.begin++,s[n.begin].test(i)&&n.begin++),g.caret(n.begin,n.begin)}b()})),S()}))}})})?i.apply(e,a):i)||(t.exports=r)},43:function(t,e,n){"use strict";n(24),n(44)},44:function(t,e,n){},45:function(t,e,n){"use strict";n(46)},46:function(t,e,n){},51:function(t,e,n){"use strict";n(8),n(3),n(72);var i=n(52);e.a=i.a},52:function(t,e,n){"use strict";(function(t){class n{static init(t,e){t.find(".js-login-card__registration-button").on("click",e)}static initDefault({selector:e=".js-login-card",parent:i=document,registrationClickListener:a}){n.init(t(i).find(e),a)}}e.a=n}).call(this,n(0))},67:function(t,e,n){"use strict";var i=n(8);n(43),n(45),n(3),n(70);var a=class{static initDefault({selector:t=".js-registration-card",parent:e=document,loginClickListener:n}){const a=e.querySelector(t);a.querySelector(".js-registration-card__login-button").addEventListener("click",n),i.a.initDefault({parent:a})}};e.a=a},70:function(t,e,n){},72:function(t,e,n){},8:function(t,e,n){"use strict";n(41);var i=n(27);e.a=i.a},92:function(t,e,n){"use strict";(function(t){var i=n(51),a=n(67);e.a=class{create(){this.$cards=t(".js-login-page__card"),this.handleLoginButtonClick=this.handleLoginButtonClick.bind(this),this.handleRegistrationButtonClick=this.handleRegistrationButtonClick.bind(this),i.a.initDefault({registrationClickListener:this.handleRegistrationButtonClick}),a.a.initDefault({loginClickListener:this.handleLoginButtonClick})}handleLoginButtonClick(){this.toggleCards()}handleRegistrationButtonClick(){this.toggleCards()}toggleCards(){this.$cards.toggleClass("login-page__card_hidden")}}}).call(this,n(0))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3NpdGUvbG9naW4vbG9naW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvY2hlY2thYmxlLWl0ZW0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvaW5wdXQvRGF0ZU1hc2tlZElucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9zaXRlL2xheW91dC9sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS5tYXNrZWRpbnB1dC9zcmMvanF1ZXJ5Lm1hc2tlZGlucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL3JhZGlvLWxpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvdG9nZ2xlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2xvZ2luLWNhcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvbG9naW4tY2FyZC9Mb2dpbkNhcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvcmVnaXN0cmF0aW9uLWNhcmQvUmVnaXN0cmF0aW9uQ2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9yZWdpc3RyYXRpb24tY2FyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9pbnB1dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvc2l0ZS9sb2dpbi9Mb2dpblBhZ2UuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCI5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJEYXRlTWFza2VkSW5wdXQiLCIkZWxlbWVudCIsIm1hc2siLCJpbnB1dCIsIkRhdGUiLCJwYXJzZSIsInRoaXMiLCJ2YWwiLCJzcGxpdCIsInJldmVyc2UiLCJqb2luIiwiTnVtYmVyIiwiaXNOYU4iLCJzZXRDdXN0b21WYWxpZGl0eSIsIm5vdyIsInNlbGVjdG9yIiwicGFyZW50IiwiZG9jdW1lbnQiLCIkIiwiZmluZCIsImVhY2giLCJfXyIsImVsZW1lbnQiLCJpbml0IiwicXVlcnlTZWxlY3RvciIsImluaXREZWZhdWx0IiwiY2FyZXRUaW1lb3V0SWQiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlQaG9uZSIsInRlc3QiLCJjaHJvbWUiLCJhbmRyb2lkIiwiZGVmaW5pdGlvbnMiLCJhdXRvY2xlYXIiLCJkYXRhTmFtZSIsInBsYWNlaG9sZGVyIiwiZm4iLCJleHRlbmQiLCJjYXJldCIsImJlZ2luIiwiZW5kIiwicmFuZ2UiLCJpcyIsImFjdGl2ZUVsZW1lbnQiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImNyZWF0ZVRleHRSYW5nZSIsImNvbGxhcHNlIiwibW92ZUVuZCIsIm1vdmVTdGFydCIsInNlbGVjdCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiLCJ0ZXh0IiwidW5tYXNrIiwidHJpZ2dlciIsInNldHRpbmdzIiwiZGVmcyIsInRlc3RzIiwicGFydGlhbFBvc2l0aW9uIiwiZmlyc3ROb25NYXNrUG9zIiwibGFzdFJlcXVpcmVkTm9uTWFza1BvcyIsImxlbiIsIm9sZFZhbCIsInVuZGVmaW5lZCIsImNvbXBsZXRlZCIsIlN0cmluZyIsIlJlZ0V4cCIsImJ1ZmZlciIsIm1hcCIsImdldFBsYWNlaG9sZGVyIiwiZGVmYXVsdEJ1ZmZlciIsImZvY3VzVGV4dCIsInRyeUZpcmVDb21wbGV0ZWQiLCJjaGFyQXQiLCJzZWVrTmV4dCIsInBvcyIsInNoaWZ0TCIsIndyaXRlQnVmZmVyIiwiTWF0aCIsIm1heCIsImJsdXJFdmVudCIsImUiLCJjaGVja1ZhbCIsImNoYW5nZSIsImNsZWFyQnVmZmVyIiwic3RhcnQiLCJhbGxvdyIsImxhc3RNYXRjaCIsInN1YnN0cmluZyIsIm9uZSIsIm9mZiIsInJlbW92ZURhdGEiLCJvbiIsInByb3AiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicmVwbGFjZSIsImsiLCJ3aGljaCIsImtleUNvZGUiLCJzZWVrUHJldiIsInByZXZlbnREZWZhdWx0IiwibmV4dCIsImN0cmxLZXkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiZnJvbUNoYXJDb2RlIiwic2hpZnRSIiwicHJveHkiLCJjdXJWYWwiLCJsYXN0RW50ZXJlZFZhbHVlIiwibGlzdGVuZXIiLCJyZWdpc3RyYXRpb25DbGlja0xpc3RlbmVyIiwiTG9naW5DYXJkIiwibG9naW5DbGlja0xpc3RlbmVyIiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCIkY2FyZHMiLCJoYW5kbGVMb2dpbkJ1dHRvbkNsaWNrIiwiaGFuZGxlUmVnaXN0cmF0aW9uQnV0dG9uQ2xpY2siLCJ0b2dnbGVDYXJkcyIsInRvZ2dsZUNsYXNzIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQsT0FBUWdCLElBQUssQ0FDOUMsSUFBSUMsRUFBUUgsRUFBZUUsR0FDRyxJQUEzQlgsRUFBZ0JZLEtBQWNGLEdBQVksR0FFM0NBLElBQ0ZMLEVBQWdCUSxPQUFPcEIsSUFBSyxHQUM1QmUsRUFBU00sRUFBb0JBLEVBQW9CQyxFQUFJTixFQUFlLEtBSXRFLE9BQU9ELEVBSVIsSUFBSVEsRUFBbUIsR0FLbkJoQixFQUFrQixDQUNyQmlCLEVBQUcsR0FHQVos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RUMsRUFBVS9GLEtBQUtMLEVBQUVGLEdBQVFHLEtBQUtKLEdBQVdzRyxJQUk5QixRLG1GQ0NBLE1BUmYsTUFDRSxvQkFBbUIsU0FBQ3RHLEVBQVcsd0JBQXVCLE9BQUVDLEVBQVNDLFNBQVEsbUJBQUVzRyxJQUN6RSxNQUFNQyxFQUFPeEcsRUFBT1EsY0FBY1QsR0FDbEN5RyxFQUFLaEcsY0FBZSx1Q0FBdUNpRyxpQkFBaUIsUUFBU0YsR0FDckYsSUFBZ0I5RixZQUFZLENBQUNULE9BQVF3RyxNQ0UxQixPLHlFQ1JmLGtCQUllLE1BQWUsRyxpQ0NKOUIsZ0NBMEJlLElBdkJmLE1BQ0UsU0FDRWxILEtBQUtvSCxPQUFTeEcsRUFBRSx3QkFDaEJaLEtBQUtxSCx1QkFBeUJySCxLQUFLcUgsdUJBQXVCcEksS0FBS2UsTUFDL0RBLEtBQUtzSCw4QkFBZ0N0SCxLQUFLc0gsOEJBQThCckksS0FBS2UsTUFFN0UsSUFBVW1CLFlBQVksQ0FBQzRGLDBCQUEyQi9HLEtBQUtzSCxnQ0FDdkQsSUFBaUJuRyxZQUFZLENBQUM4RixtQkFBb0JqSCxLQUFLcUgseUJBR3pELHlCQUNFckgsS0FBS3VILGNBR1AsZ0NBQ0V2SCxLQUFLdUgsY0FHUCxjQUNFdkgsS0FBS29ILE9BQU9JLFlBQVksK0IiLCJmaWxlIjoibG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDk6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzEwNiwwLDJdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiaW1wb3J0ICcuL2xvZ2luLnNjc3MnXG5pbXBvcnQgJy4uL2xheW91dC9sYXlvdXQnXG5pbXBvcnQgTG9naW5QYWdlIGZyb20gXCIuL0xvZ2luUGFnZVwiO1xuXG5uZXcgTG9naW5QYWdlKCkuY3JlYXRlKCk7XG4iLCJpbXBvcnQgJy4vY2hlY2thYmxlLWl0ZW0uc2NzcydcbiIsImltcG9ydCAnanF1ZXJ5Lm1hc2tlZGlucHV0L3NyYy9qcXVlcnkubWFza2VkaW5wdXQnO1xuXG5jbGFzcyBEYXRlTWFza2VkSW5wdXQge1xuICBzdGF0aWMgaW5pdCgkZWxlbWVudCkge1xuICAgICRlbGVtZW50Lm1hc2soJzk5Ljk5Ljk5OTknLCB7XG4gICAgICBjb21wbGV0ZWQoKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gRGF0ZS5wYXJzZSh0aGlzLnZhbCgpLnNwbGl0KCcuJykucmV2ZXJzZSgpLmpvaW4oJy0nKSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgdGhpc1swXS5zZXRDdXN0b21WYWxpZGl0eSgn0J3QtdCy0L7Qt9C80L7QttC90LDRjyDQtNCw0YLQsCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID4gRGF0ZS5ub3coKSkge1xuICAgICAgICAgIHRoaXNbMF0uc2V0Q3VzdG9tVmFsaWRpdHkoJ9Ch0LvQuNGI0LrQvtC8INC80L7Qu9C+0LTRiycpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0IDwgRGF0ZS5ub3coKSAtIDE1MCAqIDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApIHtcbiAgICAgICAgICB0aGlzWzBdLnNldEN1c3RvbVZhbGlkaXR5KCfQndC10LLQvtC30LzQvtC20L3Ri9C5INC20LjQt9C90LXQvdC90YvQuSDRgdGA0L7QuicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbMF0uc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGluaXRBbGwoe3NlbGVjdG9yID0gJy5qcy1pbnB1dF9tYXNrZWQnLCBwYXJlbnQgPSBkb2N1bWVudH0pIHtcbiAgICAkKHBhcmVudCkuZmluZChzZWxlY3RvcikuZWFjaCgoX18sIGVsZW1lbnQpID0+IERhdGVNYXNrZWRJbnB1dC5pbml0KCQoZWxlbWVudCkpKTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0RGVmYXVsdCh7c2VsZWN0b3IgPSAnLmpzLWlucHV0X21hc2tlZCcsIHBhcmVudCA9IGRvY3VtZW50fSkge1xuICAgIERhdGVNYXNrZWRJbnB1dC5pbml0KCQocGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0ZU1hc2tlZElucHV0O1xuIiwiaW1wb3J0ICdAdGhlbWUnXG5pbXBvcnQgJ0BibG9ja3MvZm9vdGVyJ1xuaW1wb3J0IEhlYWRlciBmcm9tIFwiQGJsb2Nrcy9oZWFkZXJcIjtcblxuSGVhZGVyLmluaXREZWZhdWx0KHt9KTtcbiIsIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgIH1cbn0oZnVuY3Rpb24gKCQpIHtcblxudmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudCxcblx0aVBob25lID0gL2lwaG9uZS9pLnRlc3QodWEpLFxuXHRjaHJvbWUgPSAvY2hyb21lL2kudGVzdCh1YSksXG5cdGFuZHJvaWQgPSAvYW5kcm9pZC9pLnRlc3QodWEpLFxuXHRjYXJldFRpbWVvdXRJZDtcblxuJC5tYXNrID0ge1xuXHQvL1ByZWRlZmluZWQgY2hhcmFjdGVyIGRlZmluaXRpb25zXG5cdGRlZmluaXRpb25zOiB7XG5cdFx0JzknOiBcIlswLTldXCIsXG5cdFx0J2EnOiBcIltBLVphLXpdXCIsXG5cdFx0JyonOiBcIltBLVphLXowLTldXCJcblx0fSxcblx0YXV0b2NsZWFyOiB0cnVlLFxuXHRkYXRhTmFtZTogXCJyYXdNYXNrRm5cIixcblx0cGxhY2Vob2xkZXI6ICdfJ1xufTtcblxuJC5mbi5leHRlbmQoe1xuXHQvL0hlbHBlciBGdW5jdGlvbiBmb3IgQ2FyZXQgcG9zaXRpb25pbmdcblx0Y2FyZXQ6IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcblx0XHR2YXIgcmFuZ2U7XG5cblx0XHRpZiAodGhpcy5sZW5ndGggPT09IDAgfHwgdGhpcy5pcyhcIjpoaWRkZW5cIikgfHwgdGhpcy5nZXQoMCkgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIGJlZ2luID09ICdudW1iZXInKSB7XG5cdFx0XHRlbmQgPSAodHlwZW9mIGVuZCA9PT0gJ251bWJlcicpID8gZW5kIDogYmVnaW47XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodGhpcy5zZXRTZWxlY3Rpb25SYW5nZSkge1xuXHRcdFx0XHRcdHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UoYmVnaW4sIGVuZCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5jcmVhdGVUZXh0UmFuZ2UpIHtcblx0XHRcdFx0XHRyYW5nZSA9IHRoaXMuY3JlYXRlVGV4dFJhbmdlKCk7XG5cdFx0XHRcdFx0cmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG5cdFx0XHRcdFx0cmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kKTtcblx0XHRcdFx0XHRyYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIGJlZ2luKTtcblx0XHRcdFx0XHRyYW5nZS5zZWxlY3QoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzWzBdLnNldFNlbGVjdGlvblJhbmdlKSB7XG5cdFx0XHRcdGJlZ2luID0gdGhpc1swXS5zZWxlY3Rpb25TdGFydDtcblx0XHRcdFx0ZW5kID0gdGhpc1swXS5zZWxlY3Rpb25FbmQ7XG5cdFx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UpIHtcblx0XHRcdFx0cmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcblx0XHRcdFx0YmVnaW4gPSAwIC0gcmFuZ2UuZHVwbGljYXRlKCkubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtMTAwMDAwKTtcblx0XHRcdFx0ZW5kID0gYmVnaW4gKyByYW5nZS50ZXh0Lmxlbmd0aDtcblx0XHRcdH1cblx0XHRcdHJldHVybiB7IGJlZ2luOiBiZWdpbiwgZW5kOiBlbmQgfTtcblx0XHR9XG5cdH0sXG5cdHVubWFzazogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudHJpZ2dlcihcInVubWFza1wiKTtcblx0fSxcblx0bWFzazogZnVuY3Rpb24obWFzaywgc2V0dGluZ3MpIHtcblx0XHR2YXIgaW5wdXQsXG5cdFx0XHRkZWZzLFxuXHRcdFx0dGVzdHMsXG5cdFx0XHRwYXJ0aWFsUG9zaXRpb24sXG5cdFx0XHRmaXJzdE5vbk1hc2tQb3MsXG4gICAgICAgICAgICBsYXN0UmVxdWlyZWROb25NYXNrUG9zLFxuICAgICAgICAgICAgbGVuLFxuICAgICAgICAgICAgb2xkVmFsO1xuXG5cdFx0aWYgKCFtYXNrICYmIHRoaXMubGVuZ3RoID4gMCkge1xuXHRcdFx0aW5wdXQgPSAkKHRoaXNbMF0pO1xuICAgICAgICAgICAgdmFyIGZuID0gaW5wdXQuZGF0YSgkLm1hc2suZGF0YU5hbWUpXG5cdFx0XHRyZXR1cm4gZm4/Zm4oKTp1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0c2V0dGluZ3MgPSAkLmV4dGVuZCh7XG5cdFx0XHRhdXRvY2xlYXI6ICQubWFzay5hdXRvY2xlYXIsXG5cdFx0XHRwbGFjZWhvbGRlcjogJC5tYXNrLnBsYWNlaG9sZGVyLCAvLyBMb2FkIGRlZmF1bHQgcGxhY2Vob2xkZXJcblx0XHRcdGNvbXBsZXRlZDogbnVsbFxuXHRcdH0sIHNldHRpbmdzKTtcblxuXG5cdFx0ZGVmcyA9ICQubWFzay5kZWZpbml0aW9ucztcblx0XHR0ZXN0cyA9IFtdO1xuXHRcdHBhcnRpYWxQb3NpdGlvbiA9IGxlbiA9IG1hc2subGVuZ3RoO1xuXHRcdGZpcnN0Tm9uTWFza1BvcyA9IG51bGw7XG5cblx0XHRtYXNrID0gU3RyaW5nKG1hc2spO1xuXG5cdFx0JC5lYWNoKG1hc2suc3BsaXQoXCJcIiksIGZ1bmN0aW9uKGksIGMpIHtcblx0XHRcdGlmIChjID09ICc/Jykge1xuXHRcdFx0XHRsZW4tLTtcblx0XHRcdFx0cGFydGlhbFBvc2l0aW9uID0gaTtcblx0XHRcdH0gZWxzZSBpZiAoZGVmc1tjXSkge1xuXHRcdFx0XHR0ZXN0cy5wdXNoKG5ldyBSZWdFeHAoZGVmc1tjXSkpO1xuXHRcdFx0XHRpZiAoZmlyc3ROb25NYXNrUG9zID09PSBudWxsKSB7XG5cdFx0XHRcdFx0Zmlyc3ROb25NYXNrUG9zID0gdGVzdHMubGVuZ3RoIC0gMTtcblx0XHRcdFx0fVxuICAgICAgICAgICAgICAgIGlmKGkgPCBwYXJ0aWFsUG9zaXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBsYXN0UmVxdWlyZWROb25NYXNrUG9zID0gdGVzdHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0ZXN0cy5wdXNoKG51bGwpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMudHJpZ2dlcihcInVubWFza1wiKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGlucHV0ID0gJCh0aGlzKSxcblx0XHRcdFx0YnVmZmVyID0gJC5tYXAoXG4gICAgXHRcdFx0XHRtYXNrLnNwbGl0KFwiXCIpLFxuICAgIFx0XHRcdFx0ZnVuY3Rpb24oYywgaSkge1xuICAgIFx0XHRcdFx0XHRpZiAoYyAhPSAnPycpIHtcbiAgICBcdFx0XHRcdFx0XHRyZXR1cm4gZGVmc1tjXSA/IGdldFBsYWNlaG9sZGVyKGkpIDogYztcbiAgICBcdFx0XHRcdFx0fVxuICAgIFx0XHRcdFx0fSksXG5cdFx0XHRcdGRlZmF1bHRCdWZmZXIgPSBidWZmZXIuam9pbignJyksXG5cdFx0XHRcdGZvY3VzVGV4dCA9IGlucHV0LnZhbCgpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0cnlGaXJlQ29tcGxldGVkKCl7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBmaXJzdE5vbk1hc2tQb3M7IGkgPD0gbGFzdFJlcXVpcmVkTm9uTWFza1BvczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0c1tpXSAmJiBidWZmZXJbaV0gPT09IGdldFBsYWNlaG9sZGVyKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29tcGxldGVkLmNhbGwoaW5wdXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRQbGFjZWhvbGRlcihpKXtcbiAgICAgICAgICAgICAgICBpZihpIDwgc2V0dGluZ3MucGxhY2Vob2xkZXIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MucGxhY2Vob2xkZXIuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5wbGFjZWhvbGRlci5jaGFyQXQoMCk7XG4gICAgICAgICAgICB9XG5cblx0XHRcdGZ1bmN0aW9uIHNlZWtOZXh0KHBvcykge1xuXHRcdFx0XHR3aGlsZSAoKytwb3MgPCBsZW4gJiYgIXRlc3RzW3Bvc10pO1xuXHRcdFx0XHRyZXR1cm4gcG9zO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBzZWVrUHJldihwb3MpIHtcblx0XHRcdFx0d2hpbGUgKC0tcG9zID49IDAgJiYgIXRlc3RzW3Bvc10pO1xuXHRcdFx0XHRyZXR1cm4gcG9zO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBzaGlmdEwoYmVnaW4sZW5kKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdGo7XG5cblx0XHRcdFx0aWYgKGJlZ2luPDApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKGkgPSBiZWdpbiwgaiA9IHNlZWtOZXh0KGVuZCk7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdGlmICh0ZXN0c1tpXSkge1xuXHRcdFx0XHRcdFx0aWYgKGogPCBsZW4gJiYgdGVzdHNbaV0udGVzdChidWZmZXJbal0pKSB7XG5cdFx0XHRcdFx0XHRcdGJ1ZmZlcltpXSA9IGJ1ZmZlcltqXTtcblx0XHRcdFx0XHRcdFx0YnVmZmVyW2pdID0gZ2V0UGxhY2Vob2xkZXIoaik7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aiA9IHNlZWtOZXh0KGopO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR3cml0ZUJ1ZmZlcigpO1xuXHRcdFx0XHRpbnB1dC5jYXJldChNYXRoLm1heChmaXJzdE5vbk1hc2tQb3MsIGJlZ2luKSk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHNoaWZ0Uihwb3MpIHtcblx0XHRcdFx0dmFyIGksXG5cdFx0XHRcdFx0Yyxcblx0XHRcdFx0XHRqLFxuXHRcdFx0XHRcdHQ7XG5cblx0XHRcdFx0Zm9yIChpID0gcG9zLCBjID0gZ2V0UGxhY2Vob2xkZXIocG9zKTsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKHRlc3RzW2ldKSB7XG5cdFx0XHRcdFx0XHRqID0gc2Vla05leHQoaSk7XG5cdFx0XHRcdFx0XHR0ID0gYnVmZmVyW2ldO1xuXHRcdFx0XHRcdFx0YnVmZmVyW2ldID0gYztcblx0XHRcdFx0XHRcdGlmIChqIDwgbGVuICYmIHRlc3RzW2pdLnRlc3QodCkpIHtcblx0XHRcdFx0XHRcdFx0YyA9IHQ7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gYW5kcm9pZElucHV0RXZlbnQoZSkge1xuXHRcdFx0XHR2YXIgY3VyVmFsID0gaW5wdXQudmFsKCk7XG5cdFx0XHRcdHZhciBwb3MgPSBpbnB1dC5jYXJldCgpO1xuXHRcdFx0XHRpZiAob2xkVmFsICYmIG9sZFZhbC5sZW5ndGggJiYgb2xkVmFsLmxlbmd0aCA+IGN1clZhbC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0Ly8gYSBkZWxldGlvbiBvciBiYWNrc3BhY2UgaGFwcGVuZWRcblx0XHRcdFx0XHRjaGVja1ZhbCh0cnVlKTtcblx0XHRcdFx0XHR3aGlsZSAocG9zLmJlZ2luID4gMCAmJiAhdGVzdHNbcG9zLmJlZ2luLTFdKVxuXHRcdFx0XHRcdFx0cG9zLmJlZ2luLS07XG5cdFx0XHRcdFx0aWYgKHBvcy5iZWdpbiA9PT0gMClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR3aGlsZSAocG9zLmJlZ2luIDwgZmlyc3ROb25NYXNrUG9zICYmICF0ZXN0c1twb3MuYmVnaW5dKVxuXHRcdFx0XHRcdFx0XHRwb3MuYmVnaW4rKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5wdXQuY2FyZXQocG9zLmJlZ2luLHBvcy5iZWdpbik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIHBvczIgPSBjaGVja1ZhbCh0cnVlKTtcblx0XHRcdFx0XHR2YXIgbGFzdEVudGVyZWRWYWx1ZSA9IGN1clZhbC5jaGFyQXQocG9zLmJlZ2luKTtcblx0XHRcdFx0XHRpZiAocG9zLmJlZ2luIDwgbGVuKXtcblx0XHRcdFx0XHRcdGlmKCF0ZXN0c1twb3MuYmVnaW5dKXtcblx0XHRcdFx0XHRcdFx0cG9zLmJlZ2luKys7XG5cdFx0XHRcdFx0XHRcdGlmKHRlc3RzW3Bvcy5iZWdpbl0udGVzdChsYXN0RW50ZXJlZFZhbHVlKSl7XG5cdFx0XHRcdFx0XHRcdFx0cG9zLmJlZ2luKys7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0XHRpZih0ZXN0c1twb3MuYmVnaW5dLnRlc3QobGFzdEVudGVyZWRWYWx1ZSkpe1xuXHRcdFx0XHRcdFx0XHRcdHBvcy5iZWdpbisrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlucHV0LmNhcmV0KHBvcy5iZWdpbixwb3MuYmVnaW4pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeUZpcmVDb21wbGV0ZWQoKTtcblx0XHRcdH1cblxuXG5cdFx0XHRmdW5jdGlvbiBibHVyRXZlbnQoZSkge1xuICAgICAgICAgICAgICAgIGNoZWNrVmFsKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsKCkgIT0gZm9jdXNUZXh0KVxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5jaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cblxuXHRcdFx0ZnVuY3Rpb24ga2V5ZG93bkV2ZW50KGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQucHJvcChcInJlYWRvbmx5XCIpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuXHRcdFx0XHR2YXIgayA9IGUud2hpY2ggfHwgZS5rZXlDb2RlLFxuXHRcdFx0XHRcdHBvcyxcblx0XHRcdFx0XHRiZWdpbixcblx0XHRcdFx0XHRlbmQ7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbCA9IGlucHV0LnZhbCgpO1xuXHRcdFx0XHQvL2JhY2tzcGFjZSwgZGVsZXRlLCBhbmQgZXNjYXBlIGdldCBzcGVjaWFsIHRyZWF0bWVudFxuXHRcdFx0XHRpZiAoayA9PT0gOCB8fCBrID09PSA0NiB8fCAoaVBob25lICYmIGsgPT09IDEyNykpIHtcblx0XHRcdFx0XHRwb3MgPSBpbnB1dC5jYXJldCgpO1xuXHRcdFx0XHRcdGJlZ2luID0gcG9zLmJlZ2luO1xuXHRcdFx0XHRcdGVuZCA9IHBvcy5lbmQ7XG5cblx0XHRcdFx0XHRpZiAoZW5kIC0gYmVnaW4gPT09IDApIHtcblx0XHRcdFx0XHRcdGJlZ2luPWshPT00Nj9zZWVrUHJldihiZWdpbik6KGVuZD1zZWVrTmV4dChiZWdpbi0xKSk7XG5cdFx0XHRcdFx0XHRlbmQ9az09PTQ2P3NlZWtOZXh0KGVuZCk6ZW5kO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjbGVhckJ1ZmZlcihiZWdpbiwgZW5kKTtcblx0XHRcdFx0XHRzaGlmdEwoYmVnaW4sIGVuZCAtIDEpO1xuXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9IGVsc2UgaWYoIGsgPT09IDEzICkgeyAvLyBlbnRlclxuXHRcdFx0XHRcdGJsdXJFdmVudC5jYWxsKHRoaXMsIGUpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGsgPT09IDI3KSB7IC8vIGVzY2FwZVxuXHRcdFx0XHRcdGlucHV0LnZhbChmb2N1c1RleHQpO1xuXHRcdFx0XHRcdGlucHV0LmNhcmV0KDAsIGNoZWNrVmFsKCkpO1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBrZXlwcmVzc0V2ZW50KGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQucHJvcChcInJlYWRvbmx5XCIpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuXHRcdFx0XHR2YXIgayA9IGUud2hpY2ggfHwgZS5rZXlDb2RlLFxuXHRcdFx0XHRcdHBvcyA9IGlucHV0LmNhcmV0KCksXG5cdFx0XHRcdFx0cCxcblx0XHRcdFx0XHRjLFxuXHRcdFx0XHRcdG5leHQ7XG5cblx0XHRcdFx0aWYgKGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgayA8IDMyKSB7Ly9JZ25vcmVcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGsgJiYgayAhPT0gMTMgKSB7XG5cdFx0XHRcdFx0aWYgKHBvcy5lbmQgLSBwb3MuYmVnaW4gIT09IDApe1xuXHRcdFx0XHRcdFx0Y2xlYXJCdWZmZXIocG9zLmJlZ2luLCBwb3MuZW5kKTtcblx0XHRcdFx0XHRcdHNoaWZ0TChwb3MuYmVnaW4sIHBvcy5lbmQtMSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cCA9IHNlZWtOZXh0KHBvcy5iZWdpbiAtIDEpO1xuXHRcdFx0XHRcdGlmIChwIDwgbGVuKSB7XG5cdFx0XHRcdFx0XHRjID0gU3RyaW5nLmZyb21DaGFyQ29kZShrKTtcblx0XHRcdFx0XHRcdGlmICh0ZXN0c1twXS50ZXN0KGMpKSB7XG5cdFx0XHRcdFx0XHRcdHNoaWZ0UihwKTtcblxuXHRcdFx0XHRcdFx0XHRidWZmZXJbcF0gPSBjO1xuXHRcdFx0XHRcdFx0XHR3cml0ZUJ1ZmZlcigpO1xuXHRcdFx0XHRcdFx0XHRuZXh0ID0gc2Vla05leHQocCk7XG5cblx0XHRcdFx0XHRcdFx0aWYoYW5kcm9pZCl7XG5cdFx0XHRcdFx0XHRcdFx0Ly9QYXRoIGZvciBDU1AgVmlvbGF0aW9uIG9uIEZpcmVGb3ggT1MgMS4xXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHByb3h5ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkLnByb3h5KCQuZm4uY2FyZXQsaW5wdXQsbmV4dCkoKTtcblx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dChwcm94eSwwKTtcblx0XHRcdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRcdFx0aW5wdXQuY2FyZXQobmV4dCk7XG5cdFx0XHRcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwb3MuYmVnaW4gPD0gbGFzdFJlcXVpcmVkTm9uTWFza1Bvcyl7XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUZpcmVDb21wbGV0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RhcnQsIGVuZCkge1xuXHRcdFx0XHR2YXIgaTtcblx0XHRcdFx0Zm9yIChpID0gc3RhcnQ7IGkgPCBlbmQgJiYgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKHRlc3RzW2ldKSB7XG5cdFx0XHRcdFx0XHRidWZmZXJbaV0gPSBnZXRQbGFjZWhvbGRlcihpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gd3JpdGVCdWZmZXIoKSB7IGlucHV0LnZhbChidWZmZXIuam9pbignJykpOyB9XG5cblx0XHRcdGZ1bmN0aW9uIGNoZWNrVmFsKGFsbG93KSB7XG5cdFx0XHRcdC8vdHJ5IHRvIHBsYWNlIGNoYXJhY3RlcnMgd2hlcmUgdGhleSBiZWxvbmdcblx0XHRcdFx0dmFyIHRlc3QgPSBpbnB1dC52YWwoKSxcblx0XHRcdFx0XHRsYXN0TWF0Y2ggPSAtMSxcblx0XHRcdFx0XHRpLFxuXHRcdFx0XHRcdGMsXG5cdFx0XHRcdFx0cG9zO1xuXG5cdFx0XHRcdGZvciAoaSA9IDAsIHBvcyA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdGlmICh0ZXN0c1tpXSkge1xuXHRcdFx0XHRcdFx0YnVmZmVyW2ldID0gZ2V0UGxhY2Vob2xkZXIoaSk7XG5cdFx0XHRcdFx0XHR3aGlsZSAocG9zKysgPCB0ZXN0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRjID0gdGVzdC5jaGFyQXQocG9zIC0gMSk7XG5cdFx0XHRcdFx0XHRcdGlmICh0ZXN0c1tpXS50ZXN0KGMpKSB7XG5cdFx0XHRcdFx0XHRcdFx0YnVmZmVyW2ldID0gYztcblx0XHRcdFx0XHRcdFx0XHRsYXN0TWF0Y2ggPSBpO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAocG9zID4gdGVzdC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJCdWZmZXIoaSArIDEsIGxlbik7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyW2ldID09PSB0ZXN0LmNoYXJBdChwb3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA8IHBhcnRpYWxQb3NpdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGFsbG93KSB7XG5cdFx0XHRcdFx0d3JpdGVCdWZmZXIoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChsYXN0TWF0Y2ggKyAxIDwgcGFydGlhbFBvc2l0aW9uKSB7XG5cdFx0XHRcdFx0aWYgKHNldHRpbmdzLmF1dG9jbGVhciB8fCBidWZmZXIuam9pbignJykgPT09IGRlZmF1bHRCdWZmZXIpIHtcblx0XHRcdFx0XHRcdC8vIEludmFsaWQgdmFsdWUuIFJlbW92ZSBpdCBhbmQgcmVwbGFjZSBpdCB3aXRoIHRoZVxuXHRcdFx0XHRcdFx0Ly8gbWFzaywgd2hpY2ggaXMgdGhlIGRlZmF1bHQgYmVoYXZpb3IuXG5cdFx0XHRcdFx0XHRpZihpbnB1dC52YWwoKSkgaW5wdXQudmFsKFwiXCIpO1xuXHRcdFx0XHRcdFx0Y2xlYXJCdWZmZXIoMCwgbGVuKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gSW52YWxpZCB2YWx1ZSwgYnV0IHdlIG9wdCB0byBzaG93IHRoZSB2YWx1ZSB0byB0aGVcblx0XHRcdFx0XHRcdC8vIHVzZXIgYW5kIGFsbG93IHRoZW0gdG8gY29ycmVjdCB0aGVpciBtaXN0YWtlLlxuXHRcdFx0XHRcdFx0d3JpdGVCdWZmZXIoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d3JpdGVCdWZmZXIoKTtcblx0XHRcdFx0XHRpbnB1dC52YWwoaW5wdXQudmFsKCkuc3Vic3RyaW5nKDAsIGxhc3RNYXRjaCArIDEpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gKHBhcnRpYWxQb3NpdGlvbiA/IGkgOiBmaXJzdE5vbk1hc2tQb3MpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnB1dC5kYXRhKCQubWFzay5kYXRhTmFtZSxmdW5jdGlvbigpe1xuXHRcdFx0XHRyZXR1cm4gJC5tYXAoYnVmZmVyLCBmdW5jdGlvbihjLCBpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRlc3RzW2ldJiZjIT1nZXRQbGFjZWhvbGRlcihpKSA/IGMgOiBudWxsO1xuXHRcdFx0XHR9KS5qb2luKCcnKTtcblx0XHRcdH0pO1xuXG5cblx0XHRcdGlucHV0XG5cdFx0XHRcdC5vbmUoXCJ1bm1hc2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aW5wdXRcblx0XHRcdFx0XHRcdC5vZmYoXCIubWFza1wiKVxuXHRcdFx0XHRcdFx0LnJlbW92ZURhdGEoJC5tYXNrLmRhdGFOYW1lKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0Lm9uKFwiZm9jdXMubWFza1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnByb3AoXCJyZWFkb25seVwiKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXHRcdFx0XHRcdGNsZWFyVGltZW91dChjYXJldFRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0dmFyIHBvcztcblxuXHRcdFx0XHRcdGZvY3VzVGV4dCA9IGlucHV0LnZhbCgpO1xuXG5cdFx0XHRcdFx0cG9zID0gY2hlY2tWYWwoKTtcblxuXHRcdFx0XHRcdGNhcmV0VGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5wdXQuZ2V0KDApICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFx0XHRcdFx0XHR3cml0ZUJ1ZmZlcigpO1xuXHRcdFx0XHRcdFx0aWYgKHBvcyA9PSBtYXNrLnJlcGxhY2UoXCI/XCIsXCJcIikubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdGlucHV0LmNhcmV0KDAsIHBvcyk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpbnB1dC5jYXJldChwb3MpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIDEwKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0Lm9uKFwiYmx1ci5tYXNrXCIsIGJsdXJFdmVudClcblx0XHRcdFx0Lm9uKFwia2V5ZG93bi5tYXNrXCIsIGtleWRvd25FdmVudClcblx0XHRcdFx0Lm9uKFwia2V5cHJlc3MubWFza1wiLCBrZXlwcmVzc0V2ZW50KVxuXHRcdFx0XHQub24oXCJpbnB1dC5tYXNrIHBhc3RlLm1hc2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5wcm9wKFwicmVhZG9ubHlcIikpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIHBvcz1jaGVja1ZhbCh0cnVlKTtcblx0XHRcdFx0XHRcdGlucHV0LmNhcmV0KHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnlGaXJlQ29tcGxldGVkKCk7XG5cdFx0XHRcdFx0fSwgMCk7XG5cdFx0XHRcdH0pO1xuICAgICAgICAgICAgICAgIGlmIChjaHJvbWUgJiYgYW5kcm9pZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAub2ZmKCdpbnB1dC5tYXNrJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignaW5wdXQubWFzaycsIGFuZHJvaWRJbnB1dEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG5cdFx0XHRcdGNoZWNrVmFsKCk7IC8vUGVyZm9ybSBpbml0aWFsIGNoZWNrIGZvciBleGlzdGluZyB2YWx1ZXNcblx0XHR9KTtcblx0fVxufSk7XG59KSk7XG4iLCJpbXBvcnQgJ0BibG9ja3MvY2hlY2thYmxlLWl0ZW0nXG5pbXBvcnQgJy4vcmFkaW8tbGlzdC5zY3NzJ1xuIiwiaW1wb3J0ICcuL3RvZ2dsZS5zY3NzJ1xuIiwiaW1wb3J0ICdAYmxvY2tzL2lucHV0L2luZGV4J1xuaW1wb3J0ICdAYmxvY2tzL2J1dHRvbi9pbmRleCdcbmltcG9ydCAnLi9sb2dpbi1jYXJkLnNjc3MnXG5cbmltcG9ydCBMb2dpbkNhcmQgZnJvbSBcIi4vTG9naW5DYXJkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luQ2FyZDtcbiIsImNsYXNzIExvZ2luQ2FyZCB7XG4gIHN0YXRpYyBpbml0KCRlbGVtZW50LCBsaXN0ZW5lcil7XG4gICAgJGVsZW1lbnQuZmluZCgnLmpzLWxvZ2luLWNhcmRfX3JlZ2lzdHJhdGlvbi1idXR0b24nKS5vbignY2xpY2snLCBsaXN0ZW5lcik7XG4gIH1cbiAgc3RhdGljIGluaXREZWZhdWx0KHtzZWxlY3Rvcj0nLmpzLWxvZ2luLWNhcmQnLCBwYXJlbnQgPSBkb2N1bWVudCwgcmVnaXN0cmF0aW9uQ2xpY2tMaXN0ZW5lcn0pe1xuICAgIExvZ2luQ2FyZC5pbml0KCQocGFyZW50KS5maW5kKHNlbGVjdG9yKSwgcmVnaXN0cmF0aW9uQ2xpY2tMaXN0ZW5lcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9naW5DYXJkO1xuIiwiaW1wb3J0IERhdGVNYXNrZWRJbnB1dCBmcm9tIFwiQGJsb2Nrcy9pbnB1dFwiO1xuXG5jbGFzcyBSZWdpc3RyYXRpb25DYXJkIHtcbiAgc3RhdGljIGluaXREZWZhdWx0KHtzZWxlY3RvciA9ICcuanMtcmVnaXN0cmF0aW9uLWNhcmQnLCBwYXJlbnQgPSBkb2N1bWVudCwgbG9naW5DbGlja0xpc3RlbmVyfSkge1xuICAgIGNvbnN0IGNhcmQgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgY2FyZC5xdWVyeVNlbGVjdG9yKCAnLmpzLXJlZ2lzdHJhdGlvbi1jYXJkX19sb2dpbi1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvZ2luQ2xpY2tMaXN0ZW5lcik7XG4gICAgRGF0ZU1hc2tlZElucHV0LmluaXREZWZhdWx0KHtwYXJlbnQ6IGNhcmR9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ2lzdHJhdGlvbkNhcmQ7XG4iLCJpbXBvcnQgJ0BibG9ja3MvaW5wdXQnXG5pbXBvcnQgJ0BibG9ja3MvcmFkaW8tbGlzdCdcbmltcG9ydCAnQGJsb2Nrcy90b2dnbGUnXG5pbXBvcnQgJ0BibG9ja3MvYnV0dG9uJ1xuaW1wb3J0ICcuL3JlZ2lzdHJhdGlvbi1jYXJkLnNjc3MnXG5cbmltcG9ydCBSZWdpc3RyYXRpb25DYXJkIGZyb20gXCIuL1JlZ2lzdHJhdGlvbkNhcmRcIjtcblxuZXhwb3J0IGRlZmF1bHQgUmVnaXN0cmF0aW9uQ2FyZDtcbiIsImltcG9ydCAnLi9pbnB1dC5zY3NzJ1xuXG5pbXBvcnQgRGF0ZU1hc2tlZElucHV0IGZyb20gXCIuL0RhdGVNYXNrZWRJbnB1dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBEYXRlTWFza2VkSW5wdXQ7XG4iLCJpbXBvcnQgTG9naW5DYXJkIGZyb20gXCJAYmxvY2tzL2xvZ2luLWNhcmRcIjtcbmltcG9ydCBSZWdpc3RyYXRpb25DYXJkIGZyb20gXCJAYmxvY2tzL3JlZ2lzdHJhdGlvbi1jYXJkXCI7XG5cbmNsYXNzIExvZ2luUGFnZSB7XG4gIGNyZWF0ZSgpIHtcbiAgICB0aGlzLiRjYXJkcyA9ICQoJy5qcy1sb2dpbi1wYWdlX19jYXJkJyk7XG4gICAgdGhpcy5oYW5kbGVMb2dpbkJ1dHRvbkNsaWNrID0gdGhpcy5oYW5kbGVMb2dpbkJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVSZWdpc3RyYXRpb25CdXR0b25DbGljayA9IHRoaXMuaGFuZGxlUmVnaXN0cmF0aW9uQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIExvZ2luQ2FyZC5pbml0RGVmYXVsdCh7cmVnaXN0cmF0aW9uQ2xpY2tMaXN0ZW5lcjogdGhpcy5oYW5kbGVSZWdpc3RyYXRpb25CdXR0b25DbGlja30pO1xuICAgIFJlZ2lzdHJhdGlvbkNhcmQuaW5pdERlZmF1bHQoe2xvZ2luQ2xpY2tMaXN0ZW5lcjogdGhpcy5oYW5kbGVMb2dpbkJ1dHRvbkNsaWNrfSk7XG4gIH1cblxuICBoYW5kbGVMb2dpbkJ1dHRvbkNsaWNrKCkge1xuICAgIHRoaXMudG9nZ2xlQ2FyZHMoKTtcbiAgfVxuXG4gIGhhbmRsZVJlZ2lzdHJhdGlvbkJ1dHRvbkNsaWNrKCkge1xuICAgIHRoaXMudG9nZ2xlQ2FyZHMoKTtcbiAgfVxuXG4gIHRvZ2dsZUNhcmRzKCkge1xuICAgIHRoaXMuJGNhcmRzLnRvZ2dsZUNsYXNzKCdsb2dpbi1wYWdlX19jYXJkX2hpZGRlbicpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luUGFnZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=