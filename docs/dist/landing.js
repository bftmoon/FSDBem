!function(t){function e(e){for(var i,s,r=e[0],l=e[1],o=e[2],u=0,h=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(d&&d(e);h.length;)h.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={8:0,2:0},c=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var d=l;c.push([104,0,1]),n()}([,function(t,e,n){"use strict";e.a=class{static selectWordByCount(t,e,{withNumber:n=!1,withZeroNumber:i=!1}){const a=n?t+" ":"",c=t%10;return 0===t?i?a+e[0]:e[0]:1===c&&11!==t?a+e[1]:c>1&&c<5&&![12,13,14].includes(t)?a+e[2]:a+e[3]}}},function(t,e,n){"use strict";n(17),n(21);var i=n(1);var a=class{create(t){this._$header=t.find(".js-dropdown-menu__header");const e=this._$header.next();this._$inputs=e.find(".js-dropdown-menu__count"),this._bindListeners(),this._$header.on("click",this._handleHeaderClick),e.find(".js-dropdown-menu__decrement").on("click",this._handleDecrementClick),e.find(".js-dropdown-menu__increment").on("click",this._handleIncrementClick);const n=e.find(".js-dropdown-menu__buttons");n.find(".js-dropdown-menu__button_type_confirm").on("click",this._handleConfirmButtonClick),n.find(".js-dropdown-menu__button_type_cancel").on("click",this._handleCancelButtonClick),this._updateHeader()}_handleHeaderClick(){this._toggleMenu()}_handleConfirmButtonClick(){this._toggleMenu()}_bindListeners(){this._handleHeaderClick=this._handleHeaderClick.bind(this),this._handleConfirmButtonClick=this._handleConfirmButtonClick.bind(this),this._handleIncrementClick=this._handleIncrementClick.bind(this),this._handleDecrementClick=this._handleDecrementClick.bind(this),this._handleCancelButtonClick=this._handleCancelButtonClick.bind(this)}_updateHeader(){const t=[];this._$inputs.each((e,n)=>{t.push(+n.value)}),this._$header.children(":first-child").text(this._formatHeader(t))}_toggleMenu(){this._$header.toggleClass("dropdown-menu__header_opened"),this._$header.next().toggleClass("dropdown-menu__content_opened")}_formatHeader(t){return t.map(t=>i.a.selectWordByCount(t,["вещей","вещь","вещи","вещей"],{withNumber:!0}))}_handleDecrementClick(t){const e=t.target,n=e.nextSibling;n.value-=1,0==+n.value&&(e.disabled=!0),this._updateHeader()}_handleIncrementClick(t){const e=t.target.previousSibling,n=Number(e.value);0===n&&(e.previousSibling.disabled=!1),e.value=n+1,this._updateHeader()}_handleCancelButtonClick(){this._$inputs.val(0),this._$inputs.prev().prop("disabled",!0),this._updateHeader()}};e.a=a},function(t,e,n){"use strict";n(12)},function(t,e,n){"use strict";n(18),n(19);var i=n(6);e.a=i.a},function(t,e,n){"use strict";var i=n(7);e.a=i.a},function(t,e,n){"use strict";(function(t){n(40);class i{create(t,e=!1){const n={navTitles:{days:"MM yyyy"},prevHtml:'<i class="material-icons datepicker-icons">arrow_back</i>',nextHtml:'<i class="material-icons datepicker-icons">arrow_forward</i>',clearButton:!0,range:!0,multipleDatesSeparator:" - ",inline:e,offset:5,minDate:new Date};this._$inputStart=t.find(".js-dropdown-date__input_first"),this._$inputEnd=t.find(".js-dropdown-date__input_last"),this._handleInputStartClick=this._handleInputStartClick.bind(this),this._$inputStart.parent().on("click",this._handleInputStartClick),0!==this._$inputEnd.length?(this._extractSecondDate=this._extractSecondDate.bind(this),n.onSelect=this._extractSecondDate,this._handleInputEndClick=this._handleInputEndClick.bind(this),this._$inputEnd.parent().on("click",this._handleInputEndClick)):n.dateFormat="d M",this._picker=this._$inputStart.datepicker(n).data("datepicker"),this._setButtons()}_handleInputStartClick(){this._picker.show()}_handleInputEndClick(){this._picker.show()}_extractSecondDate(t){const e=t.split(" - ");this._$inputStart.val(e[0]),this._$inputEnd.val(2===e.length?e[1]:"")}_setButtons(){this._handleCancelClick=this._handleCancelClick.bind(this),this._handleApplyButtonClick=this._handleApplyButtonClick.bind(this);const e=this._picker.$datepicker.find(".datepicker--button");e.addClass("datepicker--button-cancel"),e.on("click",this._handleCancelClick);const n=t("<div>",{text:"Применить",class:"datepicker--button datepicker--button-apply"});n.on("click",this._handleApplyButtonClick),e.after(n)}_handleCancelClick(){this._$inputEnd.val("")}_handleApplyButtonClick(){this._picker.hide()}static initAll({selector:e=".js-dropdown-date",parent:n=document}){t(n).find(e).each((e,n)=>(new i).create(t(n)))}static initAllInline({selector:e=".js-dropdown-date-inline",parent:n=document}){t(n).find(e).each((e,n)=>(new i).create(t(n),!0))}static initDefault({selector:e=".js-dropdown-date",parent:n=document}){(new i).create(t(n.querySelector(e)))}}e.a=i}).call(this,n(0))},function(t,e,n){"use strict";(function(t){var i=n(2),a=n(1);class c extends i.a{_formatHeader(t){const e=t.reduce((t,e)=>t+e,0);return a.a.selectWordByCount(e,["Сколько гостей","гость","гостя","гостей"],{withNumber:!0})}static initDefault({selector:e=".js-guests-dropdown",parent:n=document}){(new c).create(t(n.querySelector(e)))}static initAll({selector:e=".js-guests-dropdown",parent:n=document}){t(n).find(e).each((e,n)=>(new c).create(t(n)))}}e.a=c}).call(this,n(0))},,function(t,e,n){"use strict";n(11),n(34),n(3),n(35),n(36);var i=n(16);e.a=i.a},function(t,e,n){},function(t,e,n){"use strict";n(31)},function(t,e,n){},,,,function(t,e,n){"use strict";(function(t){class n{create(t){this._handleButtonsClick=this._handleButtonsClick.bind(this),this._handleDimClick=this._handleDimClick.bind(this),this._$dim=t.find(".js-header__dim"),this._$sidebar=t.find(".js-header__sidebar");t.find(".js-header__closing-button, .js-header__menu-button").on("click",this._handleButtonsClick),this._$dim.on("click",this._handleDimClick)}_handleButtonsClick(){this._toggleSidebar()}_handleDimClick(){this._toggleSidebar()}_toggleSidebar(){this._$dim.toggleClass("header__dim_opened"),this._$sidebar.toggleClass("header__sidebar_opened")}static initAll({selector:e=".js-header",parent:i=document}){t(i).find(e).each((e,i)=>(new n).create(t(i)))}static initDefault({selector:e=".js-header",parent:i=document}){(new n).create(t(i.querySelector(e)))}}e.a=n}).call(this,n(0))},function(t,e,n){"use strict";n(20)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n(23)},function(t,e,n){},,function(t,e,n){"use strict";n(11),n(22),n(26),n(33)},function(t,e,n){"use strict";n(32)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n(10),n(25);n(9).a.initDefault({})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(3),n(69);var i=n(4),a=n(5);class c{static init(t){i.a.initDefault({parent:t}),a.a.initDefault({parent:t})}static initDefault({selector:t=".js-search-card",parent:e=document}){c.init(e.querySelector(t))}}var s=c;e.a=s},,,function(t,e,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);n(37),n(105);n(66).a.initDefault({})},function(t,e,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1J1c3NpYW5MYW5nVXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9kcm9wZG93bi1tZW51L0Ryb3Bkb3duTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9kcm9wZG93bi1tZW51L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2J1dHRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9kcm9wZG93bi1kYXRlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2d1ZXN0cy1kcm9wZG93bi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9kcm9wZG93bi1kYXRlL0Ryb3Bkb3duRGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9ndWVzdHMtZHJvcGRvd24vR3Vlc3RzRHJvcGRvd25NZW51LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2hlYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9sb2dvL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2hlYWRlci9IZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvdGl0bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3Mvc3Vic2NyaWJlLWlucHV0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL2Zvb3Rlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9zb2NpYWwtbmV0d29ya3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3NpdGUvbGF5b3V0L2xheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2l0L2Jsb2Nrcy9zZWFyY2gtY2FyZC9TZWFyY2hDYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9raXQvYmxvY2tzL3NlYXJjaC1jYXJkL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9zaXRlL2xhbmRpbmcvbGFuZGluZy5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjgiLCIyIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJjb3VudCIsInZhcmlhbnRzIiwid2l0aE51bWJlciIsIndpdGhaZXJvTnVtYmVyIiwicHJlZml4IiwicmVzaWR1ZSIsImluY2x1ZGVzIiwiJG1lbnUiLCJ0aGlzIiwiXyRoZWFkZXIiLCJmaW5kIiwiJGNvbnRlbnQiLCJuZXh0IiwiXyRpbnB1dHMiLCJfYmluZExpc3RlbmVycyIsIm9uIiwiX2hhbmRsZUhlYWRlckNsaWNrIiwiX2hhbmRsZURlY3JlbWVudENsaWNrIiwiX2hhbmRsZUluY3JlbWVudENsaWNrIiwiJGFjdGlvbkJ1dHRvbnMiLCJfaGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrIiwiX2hhbmRsZUNhbmNlbEJ1dHRvbkNsaWNrIiwiX3VwZGF0ZUhlYWRlciIsIl90b2dnbGVNZW51IiwidmFsdWVzIiwiZWFjaCIsImluZGV4IiwiaW5wdXQiLCJjaGlsZHJlbiIsInRleHQiLCJfZm9ybWF0SGVhZGVyIiwidG9nZ2xlQ2xhc3MiLCJjb3VudEFycmF5IiwibWFwIiwiUnVzc2lhbkxhbmdVdGlsIiwic2VsZWN0V29yZEJ5Q291bnQiLCJldmVudCIsImRlY3JlbWVudEJ1dHRvbiIsInRhcmdldCIsIm5leHRTaWJsaW5nIiwiZGlzYWJsZWQiLCJwcmV2aW91c1NpYmxpbmciLCJOdW1iZXIiLCJ2YWwiLCJwcmV2IiwicHJvcCIsIkRyb3Bkb3duRGF0ZSIsIiRlbGVtZW50IiwiaXNJbmxpbmUiLCJwYXJhbXMiLCJuYXZUaXRsZXMiLCJkYXlzIiwicHJldkh0bWwiLCJuZXh0SHRtbCIsImNsZWFyQnV0dG9uIiwicmFuZ2UiLCJtdWx0aXBsZURhdGVzU2VwYXJhdG9yIiwiaW5saW5lIiwib2Zmc2V0IiwibWluRGF0ZSIsIkRhdGUiLCJfJGlucHV0U3RhcnQiLCJfJGlucHV0RW5kIiwiX2hhbmRsZUlucHV0U3RhcnRDbGljayIsInBhcmVudCIsIl9leHRyYWN0U2Vjb25kRGF0ZSIsIm9uU2VsZWN0IiwiX2hhbmRsZUlucHV0RW5kQ2xpY2siLCJkYXRlRm9ybWF0IiwiX3BpY2tlciIsImRhdGVwaWNrZXIiLCJfc2V0QnV0dG9ucyIsInNob3ciLCJmb3JtYXR0ZWQiLCJkYXRlcyIsInNwbGl0IiwiX2hhbmRsZUNhbmNlbENsaWNrIiwiX2hhbmRsZUFwcGx5QnV0dG9uQ2xpY2siLCIkY2FuY2VsIiwiJGRhdGVwaWNrZXIiLCJhZGRDbGFzcyIsIiRhcHBseSIsIiQiLCJjbGFzcyIsImFmdGVyIiwiaGlkZSIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJfIiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJHdWVzdHNEcm9wZG93bk1lbnUiLCJndWVzdHNDb3VudCIsInJlZHVjZSIsInN1bSIsIl9fIiwiSGVhZGVyIiwiX2hhbmRsZUJ1dHRvbnNDbGljayIsIl9oYW5kbGVEaW1DbGljayIsIl8kZGltIiwiXyRzaWRlYmFyIiwiX3RvZ2dsZVNpZGViYXIiLCJpbml0RGVmYXVsdCIsImluaXQiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBYUgsS0FDcERjLEVBQVFkLEdBQVlHLEVBQVlILElBS2xDLElBRkdlLEdBQXFCQSxFQUFvQmhCLEdBRXRDTyxFQUFTQyxRQUNkRCxFQUFTVSxPQUFUVixHQU9ELE9BSEFXLEVBQWdCSixLQUFLSyxNQUFNRCxFQUFpQmIsR0FBa0IsSUFHdkRlLElBRVIsU0FBU0EsSUFFUixJQURBLElBQUlDLEVBQ0lmLEVBQUksRUFBR0EsRUFBSVksRUFBZ0JWLE9BQVFGLElBQUssQ0FHL0MsSUFGQSxJQUFJZ0IsRUFBaUJKLEVBQWdCWixHQUNqQ2lCLEdBQVksRUFDUkMsRUFBSSxFQUFHQSxFQUFJRixFQUFlZCxPQUFRZ0IsSUFBSyxDQUM5QyxJQUFJQyxFQUFR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QkYsS0FBSzRGLFVBQVlyRCxFQUFTckMsS0FBSyx1QkFDZnFDLEVBQVNyQyxLQUFLLHVEQUV0QkssR0FBRyxRQUFTUCxLQUFLeUYscUJBQ3pCekYsS0FBSzJGLE1BQU1wRixHQUFHLFFBQVNQLEtBQUswRixpQkFHOUIsc0JBQ0UxRixLQUFLNkYsaUJBR1Asa0JBQ0U3RixLQUFLNkYsaUJBR1AsaUJBQ0U3RixLQUFLMkYsTUFBTXBFLFlBQVksc0JBQ3ZCdkIsS0FBSzRGLFVBQVVyRSxZQUFZLDBCQUc3QixnQkFBZSxTQUFDdUQsRUFBVyxhQUFZLE9BQUV0QixFQUFTdUIsV0FDaERMLEVBQUVsQixHQUFRdEQsS0FBSzRFLEdBQVU3RCxLQUFLLENBQUMrRCxFQUFHQyxLQUFZLElBQUlPLEdBQVMzRyxPQUFPNkYsRUFBRU8sS0FHdEUsb0JBQW1CLFNBQUNILEVBQVcsYUFBWSxPQUFFdEIsRUFBU3VCLFlBQ3BELElBQUlTLEdBQVMzRyxPQUFPNkYsRUFBRWxCLEVBQU8wQixjQUFjSixNQUloQyxRLDhDQ25DZixPLHFHQ0FBLE8sZ0RDQUEseUIsNkJDQUEsTyw2SUNBQSxpQkFJQSxFQUFPZ0IsWUFBWSxLLHNGQ0RuQixNQUFNLEVBQ0osWUFBWWIsR0FDVixJQUFhYSxZQUFZLENBQUN0QyxPQUFReUIsSUFDbEMsSUFBbUJhLFlBQVksQ0FBQ3RDLE9BQVF5QixJQUcxQyxvQkFBbUIsU0FBQ0gsRUFBVyxrQkFBaUIsT0FBRXRCLEVBQVN1QixXQUN6RCxFQUFXZ0IsS0FBS3ZDLEVBQU8wQixjQUFjSixLQUkxQixRQ1RBLE8sbUZDTGYsMEJBSUEsRUFBV2dCLFlBQVksSyIsImZpbGUiOiJsYW5kaW5nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQ4OiAwLFxuIFx0XHQyOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFsxMDQsMCwxXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImNsYXNzIFJ1c3NpYW5MYW5nVXRpbCB7XG4gIHN0YXRpYyBzZWxlY3RXb3JkQnlDb3VudChjb3VudCwgdmFyaWFudHMsIHt3aXRoTnVtYmVyID0gZmFsc2UsIHdpdGhaZXJvTnVtYmVyID0gZmFsc2V9KSB7XG4gICAgY29uc3QgcHJlZml4ID0gd2l0aE51bWJlciA/IGAke2NvdW50fSBgIDogJyc7XG4gICAgY29uc3QgcmVzaWR1ZSA9IGNvdW50ICUgMTA7XG4gICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm4gd2l0aFplcm9OdW1iZXIgPyBwcmVmaXggKyB2YXJpYW50c1swXSA6IHZhcmlhbnRzWzBdO1xuICAgIGlmIChyZXNpZHVlID09PSAxICYmIGNvdW50ICE9PSAxMSkgcmV0dXJuIHByZWZpeCArIHZhcmlhbnRzWzFdO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmc2Qvc3BsaXQtY29uZGl0aW9uYWxzXG4gICAgaWYgKHJlc2lkdWUgPiAxICYmIHJlc2lkdWUgPCA1ICYmICFbMTIsIDEzLCAxNF0uaW5jbHVkZXMoY291bnQpKSByZXR1cm4gcHJlZml4ICsgdmFyaWFudHNbMl07XG4gICAgcmV0dXJuIHByZWZpeCArIHZhcmlhbnRzWzNdO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJ1c3NpYW5MYW5nVXRpbDtcbiIsImltcG9ydCBSdXNzaWFuTGFuZ1V0aWwgZnJvbSBcIkB1dGlscy9SdXNzaWFuTGFuZ1V0aWxcIjtcblxuY2xhc3MgRHJvcGRvd25NZW51IHtcbiAgY3JlYXRlKCRtZW51KSB7XG4gICAgdGhpcy5fJGhlYWRlciA9ICRtZW51LmZpbmQoJy5qcy1kcm9wZG93bi1tZW51X19oZWFkZXInKTtcbiAgICBjb25zdCAkY29udGVudCA9IHRoaXMuXyRoZWFkZXIubmV4dCgpO1xuICAgIHRoaXMuXyRpbnB1dHMgPSAkY29udGVudC5maW5kKCcuanMtZHJvcGRvd24tbWVudV9fY291bnQnKTtcblxuICAgIHRoaXMuX2JpbmRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuXyRoZWFkZXIub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlSGVhZGVyQ2xpY2spO1xuICAgICRjb250ZW50LmZpbmQoJy5qcy1kcm9wZG93bi1tZW51X19kZWNyZW1lbnQnKS5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVEZWNyZW1lbnRDbGljayk7XG4gICAgJGNvbnRlbnQuZmluZCgnLmpzLWRyb3Bkb3duLW1lbnVfX2luY3JlbWVudCcpLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUluY3JlbWVudENsaWNrKTtcblxuICAgIGNvbnN0ICRhY3Rpb25CdXR0b25zID0gJGNvbnRlbnQuZmluZCgnLmpzLWRyb3Bkb3duLW1lbnVfX2J1dHRvbnMnKTtcbiAgICAkYWN0aW9uQnV0dG9ucy5maW5kKCcuanMtZHJvcGRvd24tbWVudV9fYnV0dG9uX3R5cGVfY29uZmlybScpLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbmZpcm1CdXR0b25DbGljayk7XG4gICAgJGFjdGlvbkJ1dHRvbnMuZmluZCgnLmpzLWRyb3Bkb3duLW1lbnVfX2J1dHRvbl90eXBlX2NhbmNlbCcpLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhbmNlbEJ1dHRvbkNsaWNrKTtcblxuICAgIHRoaXMuX3VwZGF0ZUhlYWRlcigpO1xuICB9XG5cbiAgX2hhbmRsZUhlYWRlckNsaWNrKCkge1xuICAgIHRoaXMuX3RvZ2dsZU1lbnUoKTtcbiAgfVxuXG4gIF9oYW5kbGVDb25maXJtQnV0dG9uQ2xpY2soKSB7XG4gICAgdGhpcy5fdG9nZ2xlTWVudSgpO1xuICB9XG5cbiAgX2JpbmRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faGFuZGxlSGVhZGVyQ2xpY2sgPSB0aGlzLl9oYW5kbGVIZWFkZXJDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1CdXR0b25DbGljayA9IHRoaXMuX2hhbmRsZUNvbmZpcm1CdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUluY3JlbWVudENsaWNrID0gdGhpcy5faGFuZGxlSW5jcmVtZW50Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVEZWNyZW1lbnRDbGljayA9IHRoaXMuX2hhbmRsZURlY3JlbWVudENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ2FuY2VsQnV0dG9uQ2xpY2sgPSB0aGlzLl9oYW5kbGVDYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX3VwZGF0ZUhlYWRlcigpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl8kaW5wdXRzLmVhY2goKGluZGV4LCBpbnB1dCkgPT4ge1xuICAgICAgdmFsdWVzLnB1c2goK2lucHV0LnZhbHVlKTtcbiAgICB9KTtcbiAgICB0aGlzLl8kaGVhZGVyLmNoaWxkcmVuKCc6Zmlyc3QtY2hpbGQnKS50ZXh0KHRoaXMuX2Zvcm1hdEhlYWRlcih2YWx1ZXMpKTtcbiAgfVxuXG4gIF90b2dnbGVNZW51KCkge1xuICAgIHRoaXMuXyRoZWFkZXIudG9nZ2xlQ2xhc3MoJ2Ryb3Bkb3duLW1lbnVfX2hlYWRlcl9vcGVuZWQnKTtcbiAgICB0aGlzLl8kaGVhZGVyLm5leHQoKS50b2dnbGVDbGFzcygnZHJvcGRvd24tbWVudV9fY29udGVudF9vcGVuZWQnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIF9mb3JtYXRIZWFkZXIoY291bnRBcnJheSkge1xuICAgIHJldHVybiBjb3VudEFycmF5Lm1hcCgoY291bnQpID0+IFJ1c3NpYW5MYW5nVXRpbC5zZWxlY3RXb3JkQnlDb3VudChcbiAgICAgIGNvdW50LFxuICAgICAgWyfQstC10YnQtdC5JywgJ9Cy0LXRidGMJywgJ9Cy0LXRidC4JywgJ9Cy0LXRidC10LknXSxcbiAgICAgIHt3aXRoTnVtYmVyOiB0cnVlfSxcbiAgICApKTtcbiAgfVxuXG4gIF9oYW5kbGVEZWNyZW1lbnRDbGljayhldmVudCkge1xuICAgIGNvbnN0IGRlY3JlbWVudEJ1dHRvbiA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBpbnB1dCA9IGRlY3JlbWVudEJ1dHRvbi5uZXh0U2libGluZztcbiAgICBpbnB1dC52YWx1ZSAtPSAxO1xuICAgIGlmICgraW5wdXQudmFsdWUgPT09IDApIGRlY3JlbWVudEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyKCk7XG4gIH1cblxuICBfaGFuZGxlSW5jcmVtZW50Q2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldC5wcmV2aW91c1NpYmxpbmc7XG4gICAgY29uc3QgY291bnQgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xuICAgIGlmIChjb3VudCA9PT0gMCkgaW5wdXQucHJldmlvdXNTaWJsaW5nLmRpc2FibGVkID0gZmFsc2U7XG4gICAgaW5wdXQudmFsdWUgPSBjb3VudCArIDE7XG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyKCk7XG4gIH1cblxuICBfaGFuZGxlQ2FuY2VsQnV0dG9uQ2xpY2soKSB7XG4gICAgdGhpcy5fJGlucHV0cy52YWwoMCk7XG4gICAgdGhpcy5fJGlucHV0cy5wcmV2KCkucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB0aGlzLl91cGRhdGVIZWFkZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcm9wZG93bk1lbnU7XG4iLCJpbXBvcnQgJ0BibG9ja3MvdGl0bGUnXG5pbXBvcnQgJy4vZHJvcGRvd24tbWVudS5zY3NzJ1xuaW1wb3J0IERyb3Bkb3duTWVudSBmcm9tIFwiLi9Ecm9wZG93bk1lbnVcIjtcblxuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd25NZW51O1xuIiwiaW1wb3J0ICcuL2J1dHRvbi5zY3NzJ1xuIiwiaW1wb3J0ICcuL2RhdGVwaWNrZXItb3ZlcnJpZGVzLnNjc3MnXG5pbXBvcnQgJy4vZHJvcGRvd24tZGF0ZS5zY3NzJ1xuaW1wb3J0IERyb3Bkb3duRGF0ZSBmcm9tIFwiLi9Ecm9wZG93bkRhdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd25EYXRlO1xuIiwiaW1wb3J0IEd1ZXN0c0Ryb3Bkb3duTWVudSBmcm9tIFwiLi9HdWVzdHNEcm9wZG93bk1lbnVcIjtcblxuZXhwb3J0IGRlZmF1bHQgR3Vlc3RzRHJvcGRvd25NZW51O1xuIiwiaW1wb3J0ICdhaXItZGF0ZXBpY2tlci9kaXN0L2pzL2RhdGVwaWNrZXIubWluJztcblxuY2xhc3MgRHJvcGRvd25EYXRlIHtcbiAgY3JlYXRlKCRlbGVtZW50LCBpc0lubGluZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgbmF2VGl0bGVzOiB7XG4gICAgICAgIGRheXM6ICdNTSB5eXl5JyxcbiAgICAgIH0sXG4gICAgICBwcmV2SHRtbDogJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgZGF0ZXBpY2tlci1pY29uc1wiPmFycm93X2JhY2s8L2k+JyxcbiAgICAgIG5leHRIdG1sOiAnPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBkYXRlcGlja2VyLWljb25zXCI+YXJyb3dfZm9yd2FyZDwvaT4nLFxuICAgICAgY2xlYXJCdXR0b246IHRydWUsXG4gICAgICByYW5nZTogdHJ1ZSxcbiAgICAgIG11bHRpcGxlRGF0ZXNTZXBhcmF0b3I6ICcgLSAnLFxuICAgICAgaW5saW5lOiBpc0lubGluZSxcbiAgICAgIG9mZnNldDogNSxcbiAgICAgIG1pbkRhdGU6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgICB0aGlzLl8kaW5wdXRTdGFydCA9ICRlbGVtZW50LmZpbmQoJy5qcy1kcm9wZG93bi1kYXRlX19pbnB1dF9maXJzdCcpO1xuXG4gICAgdGhpcy5fJGlucHV0RW5kID0gJGVsZW1lbnQuZmluZCgnLmpzLWRyb3Bkb3duLWRhdGVfX2lucHV0X2xhc3QnKTtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dFN0YXJ0Q2xpY2sgPSB0aGlzLl9oYW5kbGVJbnB1dFN0YXJ0Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl8kaW5wdXRTdGFydC5wYXJlbnQoKS5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dFN0YXJ0Q2xpY2spO1xuXG4gICAgaWYgKHRoaXMuXyRpbnB1dEVuZC5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMuX2V4dHJhY3RTZWNvbmREYXRlID0gdGhpcy5fZXh0cmFjdFNlY29uZERhdGUuYmluZCh0aGlzKTtcbiAgICAgIHBhcmFtcy5vblNlbGVjdCA9IHRoaXMuX2V4dHJhY3RTZWNvbmREYXRlO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRFbmRDbGljayA9IHRoaXMuX2hhbmRsZUlucHV0RW5kQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuXyRpbnB1dEVuZC5wYXJlbnQoKS5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dEVuZENsaWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zLmRhdGVGb3JtYXQgPSAnZCBNJztcbiAgICB9XG5cbiAgICB0aGlzLl9waWNrZXIgPSB0aGlzLl8kaW5wdXRTdGFydC5kYXRlcGlja2VyKHBhcmFtcykuZGF0YSgnZGF0ZXBpY2tlcicpO1xuICAgIHRoaXMuX3NldEJ1dHRvbnMoKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dFN0YXJ0Q2xpY2soKSB7XG4gICAgdGhpcy5fcGlja2VyLnNob3coKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEVuZENsaWNrKCkge1xuICAgIHRoaXMuX3BpY2tlci5zaG93KCk7XG4gIH1cblxuICBfZXh0cmFjdFNlY29uZERhdGUoZm9ybWF0dGVkKSB7XG4gICAgY29uc3QgZGF0ZXMgPSBmb3JtYXR0ZWQuc3BsaXQoJyAtICcpO1xuICAgIHRoaXMuXyRpbnB1dFN0YXJ0LnZhbChkYXRlc1swXSk7XG4gICAgdGhpcy5fJGlucHV0RW5kLnZhbChkYXRlcy5sZW5ndGggPT09IDIgPyBkYXRlc1sxXSA6ICcnKTtcbiAgfVxuXG4gIF9zZXRCdXR0b25zKCkge1xuICAgIHRoaXMuX2hhbmRsZUNhbmNlbENsaWNrID0gdGhpcy5faGFuZGxlQ2FuY2VsQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVBcHBseUJ1dHRvbkNsaWNrID0gdGhpcy5faGFuZGxlQXBwbHlCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuXG4gICAgY29uc3QgJGNhbmNlbCA9IHRoaXMuX3BpY2tlci4kZGF0ZXBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci0tYnV0dG9uJyk7XG4gICAgJGNhbmNlbC5hZGRDbGFzcygnZGF0ZXBpY2tlci0tYnV0dG9uLWNhbmNlbCcpO1xuICAgICRjYW5jZWwub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FuY2VsQ2xpY2spO1xuICAgIGNvbnN0ICRhcHBseSA9ICQoJzxkaXY+Jywge1xuICAgICAgdGV4dDogJ9Cf0YDQuNC80LXQvdC40YLRjCcsXG4gICAgICBjbGFzczogJ2RhdGVwaWNrZXItLWJ1dHRvbiBkYXRlcGlja2VyLS1idXR0b24tYXBwbHknLFxuICAgIH0pO1xuICAgICRhcHBseS5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVBcHBseUJ1dHRvbkNsaWNrKTtcbiAgICAkY2FuY2VsLmFmdGVyKCRhcHBseSk7XG4gIH1cblxuICBfaGFuZGxlQ2FuY2VsQ2xpY2soKSB7XG4gICAgdGhpcy5fJGlucHV0RW5kLnZhbCgnJyk7XG4gIH1cblxuICBfaGFuZGxlQXBwbHlCdXR0b25DbGljaygpIHtcbiAgICB0aGlzLl9waWNrZXIuaGlkZSgpO1xuICB9XG5cbiAgc3RhdGljIGluaXRBbGwoe3NlbGVjdG9yID0gJy5qcy1kcm9wZG93bi1kYXRlJywgcGFyZW50ID0gZG9jdW1lbnR9KSB7XG4gICAgJChwYXJlbnQpLmZpbmQoc2VsZWN0b3IpLmVhY2goKF8sIGVsZW1lbnQpID0+IG5ldyBEcm9wZG93bkRhdGUoKS5jcmVhdGUoJChlbGVtZW50KSkpO1xuICB9XG5cbiAgc3RhdGljIGluaXRBbGxJbmxpbmUoe3NlbGVjdG9yID0gJy5qcy1kcm9wZG93bi1kYXRlLWlubGluZScsIHBhcmVudCA9IGRvY3VtZW50fSkge1xuICAgICQocGFyZW50KS5maW5kKHNlbGVjdG9yKS5lYWNoKChfLCBlbGVtZW50KSA9PiBuZXcgRHJvcGRvd25EYXRlKCkuY3JlYXRlKCQoZWxlbWVudCksIHRydWUpKTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0RGVmYXVsdCh7c2VsZWN0b3IgPSAnLmpzLWRyb3Bkb3duLWRhdGUnLCBwYXJlbnQgPSBkb2N1bWVudH0pIHtcbiAgICBuZXcgRHJvcGRvd25EYXRlKCkuY3JlYXRlKCQocGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd25EYXRlO1xuIiwiaW1wb3J0IERyb3Bkb3duTWVudSBmcm9tIFwiLi4vZHJvcGRvd24tbWVudVwiO1xuaW1wb3J0IFJ1c3NpYW5MYW5nVXRpbCBmcm9tIFwiQHV0aWxzL1J1c3NpYW5MYW5nVXRpbFwiO1xuXG5jbGFzcyBHdWVzdHNEcm9wZG93bk1lbnUgZXh0ZW5kcyBEcm9wZG93bk1lbnUge1xuICBfZm9ybWF0SGVhZGVyKGNvdW50QXJyYXkpIHtcbiAgICBjb25zdCBndWVzdHNDb3VudCA9IGNvdW50QXJyYXkucmVkdWNlKChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCwgMCk7XG4gICAgcmV0dXJuIFJ1c3NpYW5MYW5nVXRpbC5zZWxlY3RXb3JkQnlDb3VudChcbiAgICAgIGd1ZXN0c0NvdW50LFxuICAgICAgWyfQodC60L7Qu9GM0LrQviDQs9C+0YHRgtC10LknLCAn0LPQvtGB0YLRjCcsICfQs9C+0YHRgtGPJywgJ9Cz0L7RgdGC0LXQuSddLFxuICAgICAge3dpdGhOdW1iZXI6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgaW5pdERlZmF1bHQoe3NlbGVjdG9yID0gJy5qcy1ndWVzdHMtZHJvcGRvd24nLCBwYXJlbnQgPSBkb2N1bWVudH0pIHtcbiAgICBuZXcgR3Vlc3RzRHJvcGRvd25NZW51KCkuY3JlYXRlKCQocGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKSk7XG4gIH1cblxuICBzdGF0aWMgaW5pdEFsbCh7c2VsZWN0b3IgPSAnLmpzLWd1ZXN0cy1kcm9wZG93bicsIHBhcmVudCA9IGRvY3VtZW50fSkge1xuICAgICQocGFyZW50KS5maW5kKHNlbGVjdG9yKS5lYWNoKChfXywgZWxlbWVudCkgPT4gbmV3IEd1ZXN0c0Ryb3Bkb3duTWVudSgpLmNyZWF0ZSgkKGVsZW1lbnQpKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3Vlc3RzRHJvcGRvd25NZW51O1xuIiwiaW1wb3J0ICdAYmxvY2tzL2xvZ28vaW5kZXgnXG5pbXBvcnQgJ0BibG9ja3MvaGVhZGVyLWxpbmtzL2luZGV4J1xuaW1wb3J0ICcuL2hlYWRlci5zY3NzJ1xuXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL0hlYWRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG4iLCJpbXBvcnQgJy4vbG9nby5zY3NzJ1xuIiwiY2xhc3MgSGVhZGVyIHtcbiAgY3JlYXRlKCRlbGVtZW50KSB7XG4gICAgdGhpcy5faGFuZGxlQnV0dG9uc0NsaWNrID0gdGhpcy5faGFuZGxlQnV0dG9uc0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRGltQ2xpY2sgPSB0aGlzLl9oYW5kbGVEaW1DbGljay5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fJGRpbSA9ICRlbGVtZW50LmZpbmQoJy5qcy1oZWFkZXJfX2RpbScpO1xuICAgIHRoaXMuXyRzaWRlYmFyID0gJGVsZW1lbnQuZmluZCgnLmpzLWhlYWRlcl9fc2lkZWJhcicpO1xuICAgIGNvbnN0IGJ1dHRvbnMgPSAkZWxlbWVudC5maW5kKCcuanMtaGVhZGVyX19jbG9zaW5nLWJ1dHRvbiwgLmpzLWhlYWRlcl9fbWVudS1idXR0b24nKTtcblxuICAgIGJ1dHRvbnMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQnV0dG9uc0NsaWNrKTtcbiAgICB0aGlzLl8kZGltLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZURpbUNsaWNrKTtcbiAgfVxuXG4gIF9oYW5kbGVCdXR0b25zQ2xpY2soKSB7XG4gICAgdGhpcy5fdG9nZ2xlU2lkZWJhcigpO1xuICB9XG5cbiAgX2hhbmRsZURpbUNsaWNrKCkge1xuICAgIHRoaXMuX3RvZ2dsZVNpZGViYXIoKTtcbiAgfVxuXG4gIF90b2dnbGVTaWRlYmFyKCkge1xuICAgIHRoaXMuXyRkaW0udG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fZGltX29wZW5lZCcpO1xuICAgIHRoaXMuXyRzaWRlYmFyLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX3NpZGViYXJfb3BlbmVkJyk7XG4gIH1cblxuICBzdGF0aWMgaW5pdEFsbCh7c2VsZWN0b3IgPSAnLmpzLWhlYWRlcicsIHBhcmVudCA9IGRvY3VtZW50fSkge1xuICAgICQocGFyZW50KS5maW5kKHNlbGVjdG9yKS5lYWNoKChfLCBlbGVtZW50KSA9PiBuZXcgSGVhZGVyKCkuY3JlYXRlKCQoZWxlbWVudCkpKTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0RGVmYXVsdCh7c2VsZWN0b3IgPSAnLmpzLWhlYWRlcicsIHBhcmVudCA9IGRvY3VtZW50fSkge1xuICAgIG5ldyBIZWFkZXIoKS5jcmVhdGUoJChwYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG4iLCJpbXBvcnQgJy4vdGl0bGUuc2NzcydcbiIsImltcG9ydCAnLi9zdWJzY3JpYmUtaW5wdXQuc2NzcydcbiIsImltcG9ydCAnQGJsb2Nrcy9sb2dvJ1xuaW1wb3J0ICdAYmxvY2tzL3N1YnNjcmliZS1pbnB1dCdcbmltcG9ydCAnQGJsb2Nrcy9zb2NpYWwtbmV0d29ya3MnXG5pbXBvcnQgJy4vZm9vdGVyLnNjc3MnXG4iLCJpbXBvcnQgJy4vc29jaWFsLW5ldHdvcmtzLnNjc3MnXG4iLCJpbXBvcnQgJ0B0aGVtZSdcbmltcG9ydCAnQGJsb2Nrcy9mb290ZXInXG5pbXBvcnQgSGVhZGVyIGZyb20gXCJAYmxvY2tzL2hlYWRlclwiO1xuXG5IZWFkZXIuaW5pdERlZmF1bHQoe30pO1xuIiwiaW1wb3J0IERyb3Bkb3duRGF0ZSBmcm9tIFwiLi4vZHJvcGRvd24tZGF0ZVwiO1xuaW1wb3J0IEd1ZXN0c0Ryb3Bkb3duTWVudSBmcm9tIFwiLi4vZ3Vlc3RzLWRyb3Bkb3duXCI7XG5cbmNsYXNzIFNlYXJjaENhcmQge1xuICBzdGF0aWMgaW5pdChlbGVtZW50KSB7XG4gICAgRHJvcGRvd25EYXRlLmluaXREZWZhdWx0KHtwYXJlbnQ6IGVsZW1lbnR9KTtcbiAgICBHdWVzdHNEcm9wZG93bk1lbnUuaW5pdERlZmF1bHQoe3BhcmVudDogZWxlbWVudH0pO1xuICB9XG5cbiAgc3RhdGljIGluaXREZWZhdWx0KHtzZWxlY3RvciA9ICcuanMtc2VhcmNoLWNhcmQnLCBwYXJlbnQgPSBkb2N1bWVudH0pIHtcbiAgICBTZWFyY2hDYXJkLmluaXQocGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWFyY2hDYXJkO1xuIiwiaW1wb3J0ICdAYmxvY2tzL2J1dHRvbidcbmltcG9ydCAnLi9zZWFyY2gtY2FyZC5zY3NzJ1xuXG5pbXBvcnQgU2VhcmNoQ2FyZCBmcm9tIFwiLi9TZWFyY2hDYXJkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaENhcmQ7XG4iLCJpbXBvcnQgJy4uL2xheW91dC9sYXlvdXQnXG5pbXBvcnQgJy4vbGFuZGluZy5zY3NzJ1xuaW1wb3J0IFNlYXJjaENhcmQgZnJvbSBcIi4uLy4uLy4uL2tpdC9ibG9ja3Mvc2VhcmNoLWNhcmRcIjtcblxuU2VhcmNoQ2FyZC5pbml0RGVmYXVsdCh7fSk7XG4iXSwic291cmNlUm9vdCI6IiJ9