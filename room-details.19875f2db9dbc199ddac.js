!function(t){function e(e){for(var r,i,u=e[0],c=e[1],s=e[2],d=0,f=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={31:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(t){return i.p+""+({30:"npm.air-datepicker"}[t]||t)+"."+{30:"6f0040ee01f485c277ca"}[t]+".js"}(t);var c=new Error;o=function(e){u.onerror=u.onload=null,clearTimeout(s);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}a[t]=void 0}};var s=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;o.push(["/f/g",2,0,1,3,5,4,8,9,12,20,17]),n()}({"/f/g":function(t,e,n){"use strict";n.r(e);n("KG+G"),n("ECeb"),n("mbwX"),n("BQPm"),n("bn27");var r=n("SF9M").a,a=n("rMor"),o=n("jqRu");r.initDefault({data:[130,65,65,0]}),a.a.initAll({}),o.a.initDefault({})},"KG+G":function(t,e,n){},SF9M:function(t,e,n){"use strict";(function(t){var r=n("1frD");class a{init({$element:t,data:e,scale:n=1}){0!==t.length&&(this._$element=t,this._data=[e[0],e[2],e[1],e[3]],this._buildDonut(n),this._writeSummary())}_buildDonut(t){const e=this._$element.find(".js-feedbacks-chart__donut")[0],n=e.getContext("2d"),r=120*t,a=5*t,o=r/2,i=o-a;e.width=r,e.height=r,this._calculateRadianPoints(this._data).forEach(t=>{const e=n.createLinearGradient(0,0,0,r);e.addColorStop(0,t.gradient[0]),e.addColorStop(1,t.gradient[1]),n.beginPath(),n.arc(o,o,i,t.start,t.end,!1),n.lineWidth=a,n.strokeStyle=e,n.stroke()})}_calculateRadianPoints(){const t=[["#FFE39C","#FFBA9C"],["#BC9CFF","#8BA4F9"],["#6FCF97","#66D2EA"],["#919191","#3D4975"]];let e=Math.PI/2;const n=Math.PI/90,r=2*Math.PI-n*this._data.filter(t=>0!==t).length,a=this._data.reduce((t,e)=>t+e,0),o=[];for(let i=0;i<this._data.length;i+=1)if(0!==this._data[i]){const u=e+this._data[i]/a*r;o.push({start:e,end:u,gradient:t[i]}),e=u+n}return o}_writeSummary(){const[t,e]=this._$element.find(".js-feedbacks-chart__summary").children(),n=this._data.reduce((t,e)=>t+e,0);t.innerText=n,e.innerText=r.a.selectWordByCount(n,["голосов","голос","голоса","голосов"],{})}static initDefault({selector:e=".js-feedbacks-chart",parent:n=document,data:r=[0,0,0,0]}){(new a).init({$element:t(n.querySelector(e)),data:r})}}e.a=a}).call(this,n("EVdn"))},bn27:function(t,e,n){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvZmVlZGJhY2tzLWNoYXJ0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9zaXRlL3Jvb20tZGV0YWlscy9yb29tLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tpdC9ibG9ja3MvZmVlZGJhY2tzLWNoYXJ0L0ZlZWRiYWNrc0NoYXJ0LmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMzEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsImUiLCJwcm9taXNlcyIsImluc3RhbGxlZENodW5rRGF0YSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9uU2NyaXB0Q29tcGxldGUiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0IiwidGltZW91dCIsIm5jIiwic2V0QXR0cmlidXRlIiwic3JjIiwicCIsImpzb25wU2NyaXB0U3JjIiwiZXJyb3IiLCJFcnJvciIsImV2ZW50Iiwib25lcnJvciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsImNodW5rIiwiZXJyb3JUeXBlIiwidHlwZSIsInJlYWxTcmMiLCJ0YXJnZXQiLCJtZXNzYWdlIiwibmFtZSIsInJlcXVlc3QiLCJ1bmRlZmluZWQiLCJzZXRUaW1lb3V0IiwiaGVhZCIsImFwcGVuZENoaWxkIiwiYWxsIiwibSIsImMiLCJkIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5Iiwib2UiLCJlcnIiLCJjb25zb2xlIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsImluaXREZWZhdWx0IiwiaW5pdEFsbCIsIkZlZWRiYWNrc0NoYXJ0IiwiJGVsZW1lbnQiLCJzY2FsZSIsInRoaXMiLCJfJGVsZW1lbnQiLCJfZGF0YSIsIl9idWlsZERvbnV0IiwiX3dyaXRlU3VtbWFyeSIsImNhbnZhcyIsImZpbmQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsInNpemUiLCJsaW5lV2lkdGgiLCJjZW50ZXIiLCJyYWRpdXMiLCJ3aWR0aCIsImhlaWdodCIsIl9jYWxjdWxhdGVSYWRpYW5Qb2ludHMiLCJmb3JFYWNoIiwiaXRlbSIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJiZWdpblBhdGgiLCJhcmMiLCJzdGFydCIsImVuZCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwiZ3JhZGllbnRzIiwic3RhcnRQb2ludCIsIk1hdGgiLCJQSSIsImdhcFdpZHRoIiwiZnJlZVNwYWNlIiwiZmlsdGVyIiwic3VtIiwicmVkdWNlIiwiYSIsImIiLCJwb2ludHMiLCJlbmRQb2ludCIsImNvdW50Iiwidm9pY2UiLCJjaGlsZHJlbiIsInZvaWNlU3VtIiwiaW5uZXJUZXh0Iiwic2VsZWN0V29y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Q0MsRUFBUyxHQUVmLElBQUssSUFBSXpJLEVBQUksRUFBR0EsRUFBSW1HLEtBQUtFLE1BQU1uRyxPQUFRRixHQUFLLEVBQzFDLEdBQXNCLElBQWxCbUcsS0FBS0UsTUFBTXJHLEdBQVUsQ0FDdkIsTUFBTTBJLEVBQVdYLEVBQWM1QixLQUFLRSxNQUFNckcsR0FBS3FJLEVBQU9GLEVBQ3RETSxFQUFPakksS0FBSyxDQUNWa0gsTUFBT0ssRUFDUEosSUFBS2UsRUFDTHJCLFNBQVVTLEVBQVU5SCxLQUV0QitILEVBQWFXLEVBQVdSLEVBRzVCLE9BQU9PLEVBR1QsZ0JBQ0UsTUFBT0UsRUFBT0MsR0FBU3pDLEtBQUtDLFVBQVVLLEtBQUssZ0NBQWdDb0MsV0FDckVDLEVBQVczQyxLQUFLRSxNQUFNaUMsT0FBTyxDQUFDQyxFQUFHQyxJQUFNRCxFQUFJQyxFQUFHLEdBQ3BERyxFQUFNSSxVQUFZRCxFQUNsQkYsRUFBTUcsVUFBWSxJQUFnQkMsa0JBQ2hDRixFQUNBLENBQUMsVUFBVyxRQUFTLFNBQVUsV0FDL0IsSUFJSixvQkFBbUIsU0FBQ0csRUFBVyxzQkFBcUIsT0FBRUMsRUFBUzdHLFNBQVEsS0FBRTNDLEVBQU8sQ0FBQyxFQUFHLEVBQUcsRUFBRyxNQUN4RixJQUFJc0csR0FBaUJtRCxLQUFLLENBQUNsRCxTQUFVbUQsRUFBRUYsRUFBT0csY0FBY0osSUFBWXZKLFVBSTdELFEiLCJmaWxlIjoicm9vbS1kZXRhaWxzLjE5ODc1ZjJkYjlkYmMxOTlkZGFjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQzMTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBzY3JpcHQgcGF0aCBmdW5jdGlvblxuIFx0ZnVuY3Rpb24ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCkge1xuIFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArICh7XCIzMFwiOlwibnBtLmFpci1kYXRlcGlja2VyXCJ9W2NodW5rSWRdfHxjaHVua0lkKSArIFwiLlwiICsge1wiMzBcIjpcIjZmMDA0MGVlMDFmNDg1YzI3N2NhXCJ9W2NodW5rSWRdICsgXCIuanNcIlxuIFx0fVxuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuXG5cbiBcdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXG4gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcbiBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG4gXHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG4gXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcblxuIFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuIFx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG5cbiBcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcbiBcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuIFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuIFx0XHRcdFx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG4gXHRcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4gXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiBcdFx0XHRcdFx0dmFyIGNodW5rID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuIFx0XHRcdFx0XHRcdGlmKGNodW5rKSB7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuIFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcbiBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9O1xuIFx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuIFx0XHRcdFx0fSwgMTIwMDAwKTtcbiBcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gXHR9O1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm9lID0gZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbXCIvZi9nXCIsMiwwLDEsMyw1LDQsOCw5LDEyLDIwLDE3XSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCAnLi9mZWVkYmFja3MtY2hhcnQuc2NzcydcbmltcG9ydCBGZWVkYmFja3NDaGFydCBmcm9tIFwiLi9GZWVkYmFja3NDaGFydFwiO1xuXG5leHBvcnQgZGVmYXVsdCBGZWVkYmFja3NDaGFydDtcbiIsImltcG9ydCAnLi9yb29tLWRldGFpbHMuc2NzcydcbmltcG9ydCAnLi4vbGF5b3V0L2xheW91dCdcbmltcG9ydCAnQGJsb2Nrcy9pY29uZWQtbGlzdCdcbmltcG9ydCAnQGJsb2Nrcy9idWxsZXQtbGlzdCdcbmltcG9ydCBGZWVkYmFja3NDaGFydCBmcm9tIFwiQGJsb2Nrcy9mZWVkYmFja3MtY2hhcnRcIjtcbmltcG9ydCBGZWVkYmFjayBmcm9tIFwiQGJsb2Nrcy9mZWVkYmFja1wiO1xuaW1wb3J0IENhbGN1bGF0b3JDYXJkIGZyb20gXCIuLi8uLi8uLi9raXQvYmxvY2tzL2NhbGN1bGF0b3ItY2FyZFwiO1xuXG5GZWVkYmFja3NDaGFydC5pbml0RGVmYXVsdCh7ZGF0YTogWzEzMCwgNjUsIDY1LCAwXX0pO1xuRmVlZGJhY2suaW5pdEFsbCh7fSk7XG5DYWxjdWxhdG9yQ2FyZC5pbml0RGVmYXVsdCh7fSk7XG4iLCJpbXBvcnQgUnVzc2lhbkxhbmdVdGlsIGZyb20gXCJAdXRpbHMvUnVzc2lhbkxhbmdVdGlsXCI7XG5cbmNsYXNzIEZlZWRiYWNrc0NoYXJ0IHtcbiAgaW5pdCh7JGVsZW1lbnQsIGRhdGEsIHNjYWxlID0gMX0pIHtcbiAgICBpZiAoJGVsZW1lbnQubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLl8kZWxlbWVudCA9ICRlbGVtZW50O1xuICAgICAgdGhpcy5fZGF0YSA9IFtkYXRhWzBdLCBkYXRhWzJdLCBkYXRhWzFdLCBkYXRhWzNdXTtcbiAgICAgIHRoaXMuX2J1aWxkRG9udXQoc2NhbGUpO1xuICAgICAgdGhpcy5fd3JpdGVTdW1tYXJ5KCk7XG4gICAgfVxuICB9XG5cbiAgX2J1aWxkRG9udXQoc2NhbGUpIHtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl8kZWxlbWVudC5maW5kKCcuanMtZmVlZGJhY2tzLWNoYXJ0X19kb251dCcpWzBdO1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnN0IHNpemUgPSAxMjAgKiBzY2FsZTtcbiAgICBjb25zdCBsaW5lV2lkdGggPSA1ICogc2NhbGU7XG4gICAgY29uc3QgY2VudGVyID0gc2l6ZSAvIDI7XG4gICAgY29uc3QgcmFkaXVzID0gY2VudGVyIC0gbGluZVdpZHRoO1xuXG4gICAgY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcblxuICAgIHRoaXMuX2NhbGN1bGF0ZVJhZGlhblBvaW50cyh0aGlzLl9kYXRhKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgc2l6ZSk7XG4gICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgaXRlbS5ncmFkaWVudFswXSk7XG4gICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgaXRlbS5ncmFkaWVudFsxXSk7XG5cbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0LmFyYyhjZW50ZXIsIGNlbnRlciwgcmFkaXVzLCBpdGVtLnN0YXJ0LCBpdGVtLmVuZCwgZmFsc2UpO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG5cbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBncmFkaWVudDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfSk7XG4gIH1cblxuICBfY2FsY3VsYXRlUmFkaWFuUG9pbnRzKCkge1xuICAgIGNvbnN0IGdyYWRpZW50cyA9IFtcbiAgICAgIFsnI0ZGRTM5QycsICcjRkZCQTlDJ10sXG4gICAgICBbJyNCQzlDRkYnLCAnIzhCQTRGOSddLFxuICAgICAgWycjNkZDRjk3JywgJyM2NkQyRUEnXSxcbiAgICAgIFsnIzkxOTE5MScsICcjM0Q0OTc1J10sXG4gICAgXTtcbiAgICBsZXQgc3RhcnRQb2ludCA9IE1hdGguUEkgLyAyO1xuICAgIGNvbnN0IGdhcFdpZHRoID0gTWF0aC5QSSAvIDkwO1xuICAgIGNvbnN0IGZyZWVTcGFjZSA9IDIgKiBNYXRoLlBJIC0gZ2FwV2lkdGggKiB0aGlzLl9kYXRhLmZpbHRlcigoc2l6ZSkgPT4gc2l6ZSAhPT0gMCkubGVuZ3RoO1xuICAgIGNvbnN0IHN1bSA9IHRoaXMuX2RhdGEucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmICh0aGlzLl9kYXRhW2ldICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IGVuZFBvaW50ID0gc3RhcnRQb2ludCArICh0aGlzLl9kYXRhW2ldIC8gc3VtKSAqIGZyZWVTcGFjZTtcbiAgICAgICAgcG9pbnRzLnB1c2goe1xuICAgICAgICAgIHN0YXJ0OiBzdGFydFBvaW50LFxuICAgICAgICAgIGVuZDogZW5kUG9pbnQsXG4gICAgICAgICAgZ3JhZGllbnQ6IGdyYWRpZW50c1tpXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXJ0UG9pbnQgPSBlbmRQb2ludCArIGdhcFdpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9pbnRzO1xuICB9XG5cbiAgX3dyaXRlU3VtbWFyeSgpIHtcbiAgICBjb25zdCBbY291bnQsIHZvaWNlXSA9IHRoaXMuXyRlbGVtZW50LmZpbmQoJy5qcy1mZWVkYmFja3MtY2hhcnRfX3N1bW1hcnknKS5jaGlsZHJlbigpO1xuICAgIGNvbnN0IHZvaWNlU3VtID0gdGhpcy5fZGF0YS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcbiAgICBjb3VudC5pbm5lclRleHQgPSB2b2ljZVN1bTtcbiAgICB2b2ljZS5pbm5lclRleHQgPSBSdXNzaWFuTGFuZ1V0aWwuc2VsZWN0V29yZEJ5Q291bnQoXG4gICAgICB2b2ljZVN1bSxcbiAgICAgIFsn0LPQvtC70L7RgdC+0LInLCAn0LPQvtC70L7RgScsICfQs9C+0LvQvtGB0LAnLCAn0LPQvtC70L7RgdC+0LInXSxcbiAgICAgIHt9LFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgaW5pdERlZmF1bHQoe3NlbGVjdG9yID0gJy5qcy1mZWVkYmFja3MtY2hhcnQnLCBwYXJlbnQgPSBkb2N1bWVudCwgZGF0YSA9IFswLCAwLCAwLCAwXX0pIHtcbiAgICBuZXcgRmVlZGJhY2tzQ2hhcnQoKS5pbml0KHskZWxlbWVudDogJChwYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpLCBkYXRhfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmVlZGJhY2tzQ2hhcnQ7XG4iXSwic291cmNlUm9vdCI6IiJ9